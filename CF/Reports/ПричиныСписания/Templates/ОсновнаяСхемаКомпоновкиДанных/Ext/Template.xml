<?xml version="1.0" encoding="UTF-8"?>
<DataCompositionSchema xmlns="http://v8.1c.ru/8.1/data-composition-system/schema" xmlns:dcscom="http://v8.1c.ru/8.1/data-composition-system/common" xmlns:dcscor="http://v8.1c.ru/8.1/data-composition-system/core" xmlns:dcsset="http://v8.1c.ru/8.1/data-composition-system/settings" xmlns:v8="http://v8.1c.ru/8.1/data/core" xmlns:v8ui="http://v8.1c.ru/8.1/data/ui" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
	<dataSource>
		<name>ИсточникДанных1</name>
		<dataSourceType>Local</dataSourceType>
	</dataSource>
	<dataSet xsi:type="DataSetUnion">
		<name>НаборДанныхЗапросы</name>
		<field xsi:type="DataSetFieldField">
			<dataPath>Магазин</dataPath>
			<field>Магазин</field>
			<role>
				<dcscom:dimension>true</dcscom:dimension>
				<dcscom:parentDimension>Склад</dcscom:parentDimension>
				<dcscom:ignoreNullValues>true</dcscom:ignoreNullValues>
			</role>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Номенклатура</dataPath>
			<field>Номенклатура</field>
			<role>
				<dcscom:dimension>true</dcscom:dimension>
				<dcscom:ignoreNullValues>true</dcscom:ignoreNullValues>
			</role>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Организация</dataPath>
			<field>Организация</field>
			<useRestriction>
				<field>true</field>
				<group>true</group>
				<order>true</order>
			</useRestriction>
			<attributeUseRestriction>
				<field>true</field>
				<group>true</group>
				<order>true</order>
			</attributeUseRestriction>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Продавец</dataPath>
			<field>Продавец</field>
			<useRestriction>
				<field>true</field>
				<group>true</group>
				<order>true</order>
			</useRestriction>
			<attributeUseRestriction>
				<field>true</field>
				<group>true</group>
				<order>true</order>
			</attributeUseRestriction>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Склад</dataPath>
			<field>Склад</field>
			<useRestriction>
				<field>true</field>
				<group>true</group>
				<order>true</order>
			</useRestriction>
			<attributeUseRestriction>
				<field>true</field>
				<group>true</group>
				<order>true</order>
			</attributeUseRestriction>
			<role>
				<dcscom:dimension>true</dcscom:dimension>
			</role>
			<inputParameters>
				<dcscor:item>
					<dcscor:parameter>СвязиПараметровВыбора</dcscor:parameter>
					<dcscor:value xsi:type="dcscor:ChoiceParameterLinks">
						<dcscor:item>
							<dcscor:choiceParameter>Отбор.Магазин</dcscor:choiceParameter>
							<dcscor:value>Магазин</dcscor:value>
							<dcscor:mode xmlns:d8p1="http://v8.1c.ru/8.1/data/enterprise" xsi:type="d8p1:LinkedValueChangeMode">Clear</dcscor:mode>
						</dcscor:item>
					</dcscor:value>
				</dcscor:item>
			</inputParameters>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ВаловаяПрибыль</dataPath>
			<field>ВаловаяПрибыль</field>
			<useRestriction>
				<group>true</group>
			</useRestriction>
			<attributeUseRestriction>
				<field>true</field>
				<condition>true</condition>
				<group>true</group>
				<order>true</order>
			</attributeUseRestriction>
			<valueType>
				<v8:Type>xs:decimal</v8:Type>
				<v8:NumberQualifiers>
					<v8:Digits>0</v8:Digits>
					<v8:FractionDigits>0</v8:FractionDigits>
					<v8:AllowedSign>Any</v8:AllowedSign>
				</v8:NumberQualifiers>
			</valueType>
			<appearance>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>Формат</dcscor:parameter>
					<dcscor:value xsi:type="xs:string">ЧЦ=15; ЧДЦ=2; ЧГ=3,0</dcscor:value>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>МинимальнаяШирина</dcscor:parameter>
					<dcscor:value xsi:type="xs:decimal">15</dcscor:value>
				</dcscor:item>
			</appearance>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ДокументПродажи</dataPath>
			<field>ДокументПродажи</field>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Количество</dataPath>
			<field>Количество</field>
			<useRestriction>
				<group>true</group>
			</useRestriction>
			<attributeUseRestriction>
				<field>true</field>
				<condition>true</condition>
				<group>true</group>
				<order>true</order>
			</attributeUseRestriction>
			<valueType>
				<v8:Type>xs:decimal</v8:Type>
				<v8:NumberQualifiers>
					<v8:Digits>0</v8:Digits>
					<v8:FractionDigits>0</v8:FractionDigits>
					<v8:AllowedSign>Any</v8:AllowedSign>
				</v8:NumberQualifiers>
			</valueType>
			<appearance>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>Формат</dcscor:parameter>
					<dcscor:value xsi:type="xs:string">ЧДЦ=3; ЧГ=3,0</dcscor:value>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>МинимальнаяШирина</dcscor:parameter>
					<dcscor:value xsi:type="xs:decimal">15</dcscor:value>
				</dcscor:item>
			</appearance>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>КоличествоПродаж</dataPath>
			<field>КоличествоПродаж</field>
			<useRestriction>
				<group>true</group>
			</useRestriction>
			<attributeUseRestriction>
				<field>true</field>
				<condition>true</condition>
				<group>true</group>
				<order>true</order>
			</attributeUseRestriction>
			<valueType>
				<v8:Type>xs:decimal</v8:Type>
				<v8:NumberQualifiers>
					<v8:Digits>0</v8:Digits>
					<v8:FractionDigits>0</v8:FractionDigits>
					<v8:AllowedSign>Any</v8:AllowedSign>
				</v8:NumberQualifiers>
			</valueType>
			<appearance>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>Формат</dcscor:parameter>
					<dcscor:value xsi:type="xs:string">ЧДЦ=3; ЧГ=3,0</dcscor:value>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>МинимальнаяШирина</dcscor:parameter>
					<dcscor:value xsi:type="xs:decimal">15</dcscor:value>
				</dcscor:item>
			</appearance>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ТоварнаяГруппа</dataPath>
			<field>ТоварнаяГруппа</field>
			<role>
				<dcscom:dimension>true</dcscom:dimension>
				<dcscom:parentDimension>Номенклатура</dcscom:parentDimension>
				<dcscom:ignoreNullValues>true</dcscom:ignoreNullValues>
			</role>
			<valueType>
				<v8:Type xmlns:d5p1="http://v8.1c.ru/8.1/data/enterprise/current-config">d5p1:CatalogRef.ТоварныеГруппы</v8:Type>
			</valueType>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>СебестоимостьСписания</dataPath>
			<field>СебестоимостьСписания</field>
			<useRestriction>
				<group>true</group>
			</useRestriction>
			<attributeUseRestriction>
				<field>true</field>
				<condition>true</condition>
				<group>true</group>
				<order>true</order>
			</attributeUseRestriction>
			<valueType>
				<v8:Type>xs:decimal</v8:Type>
				<v8:NumberQualifiers>
					<v8:Digits>0</v8:Digits>
					<v8:FractionDigits>0</v8:FractionDigits>
					<v8:AllowedSign>Any</v8:AllowedSign>
				</v8:NumberQualifiers>
			</valueType>
			<appearance>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>Формат</dcscor:parameter>
					<dcscor:value xsi:type="xs:string">ЧЦ=15; ЧДЦ=2; ЧГ=3,0</dcscor:value>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>МинимальнаяШирина</dcscor:parameter>
					<dcscor:value xsi:type="xs:decimal">15</dcscor:value>
				</dcscor:item>
			</appearance>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>СуммаПродаж</dataPath>
			<field>СуммаПродаж</field>
			<useRestriction>
				<group>true</group>
			</useRestriction>
			<attributeUseRestriction>
				<field>true</field>
				<condition>true</condition>
				<group>true</group>
				<order>true</order>
			</attributeUseRestriction>
			<valueType>
				<v8:Type>xs:decimal</v8:Type>
				<v8:NumberQualifiers>
					<v8:Digits>0</v8:Digits>
					<v8:FractionDigits>0</v8:FractionDigits>
					<v8:AllowedSign>Any</v8:AllowedSign>
				</v8:NumberQualifiers>
			</valueType>
			<appearance>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>Формат</dcscor:parameter>
					<dcscor:value xsi:type="xs:string">ЧЦ=15; ЧДЦ=2; ЧГ=3,0</dcscor:value>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>МинимальнаяШирина</dcscor:parameter>
					<dcscor:value xsi:type="xs:decimal">15</dcscor:value>
				</dcscor:item>
			</appearance>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>СуммаСписания</dataPath>
			<field>СуммаСписания</field>
			<title xsi:type="v8:LocalStringType">
				<v8:item>
					<v8:lang>ru</v8:lang>
					<v8:content>Сумма списания в розн. ценах</v8:content>
				</v8:item>
			</title>
			<useRestriction>
				<group>true</group>
			</useRestriction>
			<attributeUseRestriction>
				<field>true</field>
				<condition>true</condition>
				<group>true</group>
				<order>true</order>
			</attributeUseRestriction>
			<valueType>
				<v8:Type>xs:decimal</v8:Type>
				<v8:NumberQualifiers>
					<v8:Digits>0</v8:Digits>
					<v8:FractionDigits>0</v8:FractionDigits>
					<v8:AllowedSign>Any</v8:AllowedSign>
				</v8:NumberQualifiers>
			</valueType>
			<appearance>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>Формат</dcscor:parameter>
					<dcscor:value xsi:type="xs:string">ЧЦ=15; ЧДЦ=2; ЧГ=3,0</dcscor:value>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>МинимальнаяШирина</dcscor:parameter>
					<dcscor:value xsi:type="xs:decimal">15</dcscor:value>
				</dcscor:item>
			</appearance>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Характеристика</dataPath>
			<field>Характеристика</field>
			<role>
				<dcscom:ignoreNullValues>true</dcscom:ignoreNullValues>
			</role>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ИдентификаторОтчета</dataPath>
			<field>ИдентификаторОтчета</field>
			<useRestriction>
				<group>true</group>
				<order>true</order>
			</useRestriction>
			<attributeUseRestriction>
				<field>true</field>
				<condition>true</condition>
				<group>true</group>
				<order>true</order>
			</attributeUseRestriction>
			<valueType>
				<v8:Type>xs:string</v8:Type>
				<v8:StringQualifiers>
					<v8:Length>30</v8:Length>
					<v8:AllowedLength>Variable</v8:AllowedLength>
				</v8:StringQualifiers>
			</valueType>
			<availableValue>
				<value xsi:type="xs:string">ТоварнаяГруппа</value>
				<presentation xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>По товарным группам</v8:content>
					</v8:item>
				</presentation>
			</availableValue>
			<availableValue>
				<value xsi:type="xs:string">Магазины</value>
				<presentation xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>По магазинам</v8:content>
					</v8:item>
				</presentation>
			</availableValue>
			<availableValue>
				<value xsi:type="xs:string">Детально</value>
				<presentation xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>Детально</v8:content>
					</v8:item>
				</presentation>
			</availableValue>
			<availableValue>
				<value xsi:type="xs:string">ТоварнаяКатегория</value>
				<presentation xsi:type="v8:LocalStringType">
					<v8:item>
						<v8:lang>ru</v8:lang>
						<v8:content>По товарным категориям</v8:content>
					</v8:item>
				</presentation>
			</availableValue>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>АналитикаХозяйственнойОперации</dataPath>
			<field>АналитикаХозяйственнойОперации</field>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>СуммаВРозничныхЦенах</dataPath>
			<field>СуммаВРозничныхЦенах</field>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>Марка</dataPath>
			<field>Марка</field>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ТоварнаяКатегория</dataPath>
			<field>ТоварнаяКатегория</field>
		</field>
		<field xsi:type="DataSetFieldField">
			<dataPath>ЗаказПокупателя</dataPath>
			<field>ЗаказПокупателя</field>
		</field>
		<item xsi:type="DataSetQuery">
			<name>ПричиныСписанияПоТоварнымГруппам</name>
			<field xsi:type="DataSetFieldField">
				<dataPath>Магазин</dataPath>
				<field>Магазин</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Номенклатура</dataPath>
				<field>Номенклатура</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Организация</dataPath>
				<field>Организация</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Продавец</dataPath>
				<field>Продавец</field>
				<useRestriction>
					<condition>true</condition>
				</useRestriction>
				<attributeUseRestriction>
					<condition>true</condition>
				</attributeUseRestriction>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Склад</dataPath>
				<field>Склад</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ВаловаяПрибыль</dataPath>
				<field>ВаловаяПрибыль</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ДокументПродажи</dataPath>
				<field>ДокументПродажи</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Количество</dataPath>
				<field>Количество</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>КоличествоПродаж</dataPath>
				<field>КоличествоПродаж</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ТоварнаяГруппа</dataPath>
				<field>ТоварнаяГруппа</field>
				<valueType>
					<v8:Type xmlns:d6p1="http://v8.1c.ru/8.1/data/enterprise/current-config">d6p1:CatalogRef.ТоварныеГруппы</v8:Type>
				</valueType>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>СебестоимостьСписания</dataPath>
				<field>СебестоимостьСписания</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>СуммаПродаж</dataPath>
				<field>СуммаПродаж</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>СуммаСписания</dataPath>
				<field>СуммаСписания</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Характеристика</dataPath>
				<field>Характеристика</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ИдентификаторОтчета</dataPath>
				<field>ИдентификаторОтчета</field>
				<valueType>
					<v8:Type>xs:string</v8:Type>
					<v8:StringQualifiers>
						<v8:Length>30</v8:Length>
						<v8:AllowedLength>Variable</v8:AllowedLength>
					</v8:StringQualifiers>
				</valueType>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>АналитикаХозяйственнойОперации</dataPath>
				<field>АналитикаХозяйственнойОперации</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ЗаказПокупателя</dataPath>
				<field>ЗаказПокупателя</field>
			</field>
			<dataSource>ИсточникДанных1</dataSource>
			<query>ВЫБРАТЬ РАЗРЕШЕННЫЕ
	ВложенныйЗапрос.Магазин,
	ВложенныйЗапрос.Номенклатура,
	ВложенныйЗапрос.Характеристика,
	ВложенныйЗапрос.Количество,
	ВложенныйЗапрос.АналитикаХозяйственнойОперации,
	ВложенныйЗапрос.Период,
	"ТоварнаяГруппа" КАК ИдентификаторОтчета
ПОМЕСТИТЬ СписаниеИзРегистра
ИЗ
	(ВЫБРАТЬ
		ТоварыНаСкладах.Склад.Магазин КАК Магазин,
		ТоварыНаСкладах.Номенклатура КАК Номенклатура,
		ТоварыНаСкладах.Характеристика КАК Характеристика,
		СУММА(ВЫБОР
				КОГДА ТоварыНаСкладах.ВидДвижения = ЗНАЧЕНИЕ(ВидДвиженияНакопления.Расход)
					ТОГДА ТоварыНаСкладах.Количество
				ИНАЧЕ -ТоварыНаСкладах.Количество
			КОНЕЦ) КАК Количество,
		ТоварыНаСкладах.АналитикаХозяйственнойОперации КАК АналитикаХозяйственнойОперации,
		ТоварыНаСкладах.Период КАК Период
	ИЗ
		РегистрНакопления.ТоварыНаСкладах КАК ТоварыНаСкладах
	ГДЕ
		(ТоварыНаСкладах.АналитикаХозяйственнойОперации.ХозяйственнаяОперация = ЗНАЧЕНИЕ(Перечисление.ХозяйственныеОперации.СписаниеНаЗатраты)
				ИЛИ ТоварыНаСкладах.АналитикаХозяйственнойОперации.ХозяйственнаяОперация = ЗНАЧЕНИЕ(Перечисление.ХозяйственныеОперации.СписаниеПоИнвентаризации))
		И ТоварыНаСкладах.Период &gt;= &amp;НачалоПериода
		И (ТоварыНаСкладах.Период &lt;= &amp;КонецПериода
				ИЛИ &amp;КонецПериода = ДАТАВРЕМЯ(1, 1, 1, 0, 0, 0))
		И НЕ ТоварыНаСкладах.Количество = 0
	
	СГРУППИРОВАТЬ ПО
		ТоварыНаСкладах.Номенклатура,
		ТоварыНаСкладах.Склад.Магазин,
		ТоварыНаСкладах.АналитикаХозяйственнойОперации,
		ТоварыНаСкладах.Характеристика,
		ТоварыНаСкладах.Период) КАК ВложенныйЗапрос
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	СписанияиМаксимумыСебестоимости.Магазин,
	СписанияиМаксимумыСебестоимости.Номенклатура,
	СписанияиМаксимумыСебестоимости.Характеристика,
	СписанияиМаксимумыСебестоимости.АналитикаХозяйственнойОперации,
	СУММА(ВЫБОР
			КОГДА СписанияиМаксимумыСебестоимости.Номенклатура.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Услуга)
				ТОГДА 0
			ИНАЧЕ ЕСТЬNULL(СебестоимостьНоменклатуры.Цена, 0)
		КОНЕЦ * СписанияиМаксимумыСебестоимости.Количество) КАК СебестоимостьСписания,
	СУММА(СписанияиМаксимумыСебестоимости.Количество) КАК Количество,
	"ТоварнаяГруппа" КАК ИдентификаторОтчета
ПОМЕСТИТЬ СписаниеТоваров
ИЗ
	СписаниеИзРегистра КАК СписанияиМаксимумыСебестоимости
			ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.СебестоимостьНоменклатуры КАК СебестоимостьНоменклатуры
			ПО (СписанияиМаксимумыСебестоимости.Номенклатура = СебестоимостьНоменклатуры.Номенклатура
						И СписанияиМаксимумыСебестоимости.Характеристика = СебестоимостьНоменклатуры.Характеристика
						И СебестоимостьНоменклатуры.Регистратор В
							(ВЫБРАТЬ ПЕРВЫЕ 1
								Себестоимость.Регистратор
							ИЗ
								РегистрСведений.СебестоимостьНоменклатуры КАК Себестоимость
							ГДЕ
								(Себестоимость.Магазин = СписанияиМаксимумыСебестоимости.Магазин
									ИЛИ Себестоимость.Магазин = ЗНАЧЕНИЕ(Справочник.Магазины.ПустаяСсылка))
								И Себестоимость.Номенклатура = СписанияиМаксимумыСебестоимости.Номенклатура
								И Себестоимость.Характеристика = СписанияиМаксимумыСебестоимости.Характеристика
								И Себестоимость.Период &lt;= СписанияиМаксимумыСебестоимости.Период
							УПОРЯДОЧИТЬ ПО
								Себестоимость.Период УБЫВ,
								Себестоимость.Регистратор УБЫВ,
								ВЫБОР
									КОГДА Себестоимость.Магазин = ЗНАЧЕНИЕ(Справочник.Магазины.ПустаяСсылка)
										ТОГДА 0
									ИНАЧЕ 1
								КОНЕЦ)
						И СебестоимостьНоменклатуры.Магазин В
							(ВЫБРАТЬ ПЕРВЫЕ 1
								Себестоимость.Магазин
							ИЗ
								РегистрСведений.СебестоимостьНоменклатуры КАК Себестоимость
							ГДЕ
								(Себестоимость.Магазин = СписанияиМаксимумыСебестоимости.Магазин
									ИЛИ Себестоимость.Магазин = ЗНАЧЕНИЕ(Справочник.Магазины.ПустаяСсылка))
								И Себестоимость.Номенклатура = СписанияиМаксимумыСебестоимости.Номенклатура
								И Себестоимость.Характеристика = СписанияиМаксимумыСебестоимости.Характеристика
								И Себестоимость.Период &lt;= СписанияиМаксимумыСебестоимости.Период
							УПОРЯДОЧИТЬ ПО
								Себестоимость.Период УБЫВ,
								Себестоимость.Регистратор УБЫВ,
								ВЫБОР
									КОГДА Себестоимость.Магазин = ЗНАЧЕНИЕ(Справочник.Магазины.ПустаяСсылка)
										ТОГДА 0
									ИНАЧЕ 1
								КОНЕЦ))
СГРУППИРОВАТЬ ПО
	СписанияиМаксимумыСебестоимости.Магазин,
	СписанияиМаксимумыСебестоимости.Номенклатура,
	СписанияиМаксимумыСебестоимости.Характеристика,
	СписанияиМаксимумыСебестоимости.АналитикаХозяйственнойОперации
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	Магазины.Ссылка КАК Магазин
ПОМЕСТИТЬ втМагазиныСПрименениемЦен
ИЗ
	Справочник.Магазины КАК Магазины
ГДЕ
	&amp;ИспользоватьПрименениеЦен
	И Магазины.ИспользоватьПрименениеЦен
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	Магазины.Ссылка КАК Магазин,
	Магазины.ФорматМагазина КАК ФорматМагазина
ПОМЕСТИТЬ втМагазиныСАссортиментом
ИЗ
	Справочник.Магазины КАК Магазины
ГДЕ
	Магазины.КонтролироватьАссортимент
	И &amp;ИспользоватьАссортимент
	И НЕ(&amp;ИспользоватьПрименениеЦен
				И Магазины.ИспользоватьПрименениеЦен)
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	Магазины.Ссылка КАК Магазин,
	Магазины.ПравилоЦенообразования КАК ПравилоЦенообразования,
	Магазины.ПравилоЦенообразования.ВидЦен КАК ВидЦены
ПОМЕСТИТЬ втМагазиныОбычные
ИЗ
	Справочник.Магазины КАК Магазины
ГДЕ
	(НЕ Магазины.КонтролироватьАссортимент
	ИЛИ НЕ &amp;ИспользоватьАссортимент)
	И НЕ(&amp;ИспользоватьПрименениеЦен
				И Магазины.ИспользоватьПрименениеЦен)
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	МагазиныОбычные.Магазин КАК Магазин,
	ПравилаЦенообразованияЦеновыеГруппы.ЦеноваяГруппа КАК ЦеноваяГруппа,
	ПравилаЦенообразованияЦеновыеГруппы.ВидЦен КАК ВидЦены
ПОМЕСТИТЬ втПравилаОбычныхМагазинов
ИЗ
	Справочник.ПравилаЦенообразования.ЦеновыеГруппы КАК ПравилаЦенообразованияЦеновыеГруппы
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ втМагазиныОбычные КАК МагазиныОбычные
		ПО (МагазиныОбычные.ПравилоЦенообразования = ПравилаЦенообразованияЦеновыеГруппы.Ссылка)
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	ТаблицаТовары.Номенклатура КАК Номенклатура,
	ТаблицаТовары.Характеристика КАК Характеристика,
	ТаблицаТовары.Магазин КАК Магазин,
	МАКСИМУМ(ДействующиеЦены.Период) КАК ДатаЦены,
	ТаблицаТовары.Период КАК Дата
ПОМЕСТИТЬ втТоварыСПериодамиДействующихЦен
ИЗ
	СписаниеИзРегистра КАК ТаблицаТовары
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ втМагазиныСПрименениемЦен КАК МагазиныСПрименениемЦен
		ПО (МагазиныСПрименениемЦен.Магазин = ТаблицаТовары.Магазин)
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ РегистрСведений.ДействующиеЦеныНоменклатуры КАК ДействующиеЦены
		ПО (ДействующиеЦены.ОбъектЦенообразования = ТаблицаТовары.Магазин)
			И (ДействующиеЦены.Период &lt;= ТаблицаТовары.Период)
			И (ДействующиеЦены.Номенклатура = ТаблицаТовары.Номенклатура)
			И (ДействующиеЦены.Характеристика = ТаблицаТовары.Характеристика)

СГРУППИРОВАТЬ ПО
	ТаблицаТовары.Номенклатура,
	ТаблицаТовары.Характеристика,
	ТаблицаТовары.Магазин,
	ТаблицаТовары.Период
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	ТоварыСПериодамиДействующихЦен.Магазин КАК Магазин,
	ТоварыСПериодамиДействующихЦен.Номенклатура КАК Номенклатура,
	ТоварыСПериодамиДействующихЦен.Характеристика КАК Характеристика,
	ТоварыСПериодамиДействующихЦен.Дата КАК Дата,
	ВЫБОР
		КОГДА ЕСТЬNULL(ДействующиеЦены.Упаковка.Коэффициент, 0) = 0
			ТОГДА ДействующиеЦены.Цена
		ИНАЧЕ ВЫРАЗИТЬ(ДействующиеЦены.Цена / ДействующиеЦены.Упаковка.Коэффициент КАК ЧИСЛО(15, 2))
	КОНЕЦ КАК Цена
ПОМЕСТИТЬ втЦеныДействующие
ИЗ
	втТоварыСПериодамиДействующихЦен КАК ТоварыСПериодамиДействующихЦен
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ РегистрСведений.ДействующиеЦеныНоменклатуры КАК ДействующиеЦены
		ПО (ДействующиеЦены.ОбъектЦенообразования = ТоварыСПериодамиДействующихЦен.Магазин)
			И (ДействующиеЦены.Период = ТоварыСПериодамиДействующихЦен.ДатаЦены)
			И (ДействующиеЦены.Номенклатура = ТоварыСПериодамиДействующихЦен.Номенклатура)
			И (ДействующиеЦены.Характеристика = ТоварыСПериодамиДействующихЦен.Характеристика)
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	ТаблицаТовары.Номенклатура КАК Номенклатура,
	ТаблицаТовары.Характеристика КАК Характеристика,
	ТаблицаТовары.Магазин.ФорматМагазина КАК ФорматМагазина,
	ТаблицаТовары.Магазин КАК Магазин,
	ТаблицаТовары.Период КАК Дата,
	МАКСИМУМ(Ассортимент.Период) КАК ДатаАссортимента
ПОМЕСТИТЬ втТоварыСПериодамиАссортимента
ИЗ
	СписаниеИзРегистра КАК ТаблицаТовары
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ втМагазиныСАссортиментом КАК МагазиныСАссортиментом
		ПО (МагазиныСАссортиментом.Магазин = ТаблицаТовары.Магазин)
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ РегистрСведений.Ассортимент КАК Ассортимент
		ПО (Ассортимент.ОбъектПланирования = ТаблицаТовары.Магазин.ФорматМагазина)
			И (Ассортимент.Период &lt;= КОНЕЦПЕРИОДА(ТаблицаТовары.Период, ДЕНЬ))
			И (Ассортимент.Номенклатура = ТаблицаТовары.Номенклатура)

СГРУППИРОВАТЬ ПО
	ТаблицаТовары.Номенклатура,
	ТаблицаТовары.Характеристика,
	ТаблицаТовары.Магазин.ФорматМагазина,
	ТаблицаТовары.Магазин,
	ТаблицаТовары.Период
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	ТоварыСПериодамиАссортимента.Номенклатура КАК Номенклатура,
	ТоварыСПериодамиАссортимента.Характеристика КАК Характеристика,
	ТоварыСПериодамиАссортимента.ФорматМагазина КАК ФорматМагазина,
	ТоварыСПериодамиАссортимента.Магазин КАК Магазин,
	ТоварыСПериодамиАссортимента.Дата КАК Дата,
	Ассортимент.ВидЦен КАК ВидЦен
ПОМЕСТИТЬ втВидыЦенАссортимента
ИЗ
	втТоварыСПериодамиАссортимента КАК ТоварыСПериодамиАссортимента
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ РегистрСведений.Ассортимент КАК Ассортимент
		ПО (Ассортимент.ОбъектПланирования = ТоварыСПериодамиАссортимента.ФорматМагазина)
			И (Ассортимент.Период = ТоварыСПериодамиАссортимента.ДатаАссортимента)
			И (Ассортимент.Номенклатура = ТоварыСПериодамиАссортимента.Номенклатура)
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	ВидыЦенАссортимента.Номенклатура КАК Номенклатура,
	ВидыЦенАссортимента.Характеристика КАК Характеристика,
	ВидыЦенАссортимента.Дата КАК Дата,
	ВидыЦенАссортимента.Магазин КАК Магазин,
	ВидыЦенАссортимента.ВидЦен КАК ВидЦен,
	МАКСИМУМ(ЦеныНоменклатуры.Период) КАК ДатаЦены
ПОМЕСТИТЬ втПериодыЦенПоАссортименту
ИЗ
	втВидыЦенАссортимента КАК ВидыЦенАссортимента
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ РегистрСведений.ЦеныНоменклатуры КАК ЦеныНоменклатуры
		ПО (ЦеныНоменклатуры.Период &lt;= ВидыЦенАссортимента.Дата)
			И (ЦеныНоменклатуры.ВидЦены = ВидыЦенАссортимента.ВидЦен)
			И (ЦеныНоменклатуры.Номенклатура = ВидыЦенАссортимента.Номенклатура)
			И (ЦеныНоменклатуры.Характеристика = ВидыЦенАссортимента.Характеристика)

СГРУППИРОВАТЬ ПО
	ВидыЦенАссортимента.Номенклатура,
	ВидыЦенАссортимента.Характеристика,
	ВидыЦенАссортимента.Дата,
	ВидыЦенАссортимента.Магазин,
	ВидыЦенАссортимента.ВидЦен
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	ПериодыЦенПоАссортименту.Магазин КАК Магазин,
	ПериодыЦенПоАссортименту.Номенклатура КАК Номенклатура,
	ПериодыЦенПоАссортименту.Характеристика КАК Характеристика,
	ПериодыЦенПоАссортименту.Дата КАК Дата,
	ВЫБОР
		КОГДА ЕСТЬNULL(ЦеныНоменклатуры.Упаковка.Коэффициент, 0) = 0
			ТОГДА ЦеныНоменклатуры.Цена
		ИНАЧЕ ВЫРАЗИТЬ(ЦеныНоменклатуры.Цена / ЦеныНоменклатуры.Упаковка.Коэффициент КАК ЧИСЛО(15, 2))
	КОНЕЦ КАК Цена
ПОМЕСТИТЬ втЦеныАссортиментные
ИЗ
	втПериодыЦенПоАссортименту КАК ПериодыЦенПоАссортименту
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ РегистрСведений.ЦеныНоменклатуры КАК ЦеныНоменклатуры
		ПО (ЦеныНоменклатуры.Период = ПериодыЦенПоАссортименту.ДатаЦены)
			И (ЦеныНоменклатуры.ВидЦены = ПериодыЦенПоАссортименту.ВидЦен)
			И (ЦеныНоменклатуры.Номенклатура = ПериодыЦенПоАссортименту.Номенклатура)
			И (ЦеныНоменклатуры.Характеристика = ПериодыЦенПоАссортименту.Характеристика)
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ТаблицаТовары.Номенклатура КАК Номенклатура,
	ТаблицаТовары.Характеристика КАК Характеристика,
	ТаблицаТовары.Магазин КАК Магазин,
	ТаблицаТовары.Период КАК Дата,
	ЕСТЬNULL(ПравилаОбычныхМагазинов.ВидЦены, МагазиныОбычные.ВидЦены) КАК ВидЦены
ПОМЕСТИТЬ втВидыЦенПоПравилам
ИЗ
	СписаниеИзРегистра КАК ТаблицаТовары
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ втМагазиныОбычные КАК МагазиныОбычные
		ПО (МагазиныОбычные.Магазин = ТаблицаТовары.Магазин)
		ЛЕВОЕ СОЕДИНЕНИЕ втПравилаОбычныхМагазинов КАК ПравилаОбычныхМагазинов
		ПО (ПравилаОбычныхМагазинов.Магазин = ТаблицаТовары.Магазин)
			И (ПравилаОбычныхМагазинов.ЦеноваяГруппа = ТаблицаТовары.Номенклатура.ЦеноваяГруппа)

СГРУППИРОВАТЬ ПО
	ТаблицаТовары.Номенклатура,
	ТаблицаТовары.Характеристика,
	ТаблицаТовары.Магазин,
	ТаблицаТовары.Период,
	ЕСТЬNULL(ПравилаОбычныхМагазинов.ВидЦены, МагазиныОбычные.ВидЦены)
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	ВидыЦенПоПравилам.Номенклатура КАК Номенклатура,
	ВидыЦенПоПравилам.Характеристика КАК Характеристика,
	ВидыЦенПоПравилам.Дата КАК Дата,
	ВидыЦенПоПравилам.Магазин КАК Магазин,
	ВидыЦенПоПравилам.ВидЦены КАК ВидЦены,
	МАКСИМУМ(ЦеныНоменклатуры.Период) КАК ДатаЦены
ПОМЕСТИТЬ втПериодыЦенПоПравилам
ИЗ
	втВидыЦенПоПравилам КАК ВидыЦенПоПравилам
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ РегистрСведений.ЦеныНоменклатуры КАК ЦеныНоменклатуры
		ПО (ЦеныНоменклатуры.Период &lt;= ВидыЦенПоПравилам.Дата)
			И (ЦеныНоменклатуры.ВидЦены = ВидыЦенПоПравилам.ВидЦены)
			И (ЦеныНоменклатуры.Номенклатура = ВидыЦенПоПравилам.Номенклатура)
			И (ЦеныНоменклатуры.Характеристика = ВидыЦенПоПравилам.Характеристика)

СГРУППИРОВАТЬ ПО
	ВидыЦенПоПравилам.Номенклатура,
	ВидыЦенПоПравилам.Характеристика,
	ВидыЦенПоПравилам.Дата,
	ВидыЦенПоПравилам.Магазин,
	ВидыЦенПоПравилам.ВидЦены
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	ПериодыЦенПоПравилам.Магазин КАК Магазин,
	ПериодыЦенПоПравилам.Номенклатура КАК Номенклатура,
	ПериодыЦенПоПравилам.Характеристика КАК Характеристика,
	ПериодыЦенПоПравилам.Дата КАК Дата,
	ВЫБОР
		КОГДА ЕСТЬNULL(ЦеныНоменклатуры.Упаковка.Коэффициент, 0) = 0
			ТОГДА ЦеныНоменклатуры.Цена
		ИНАЧЕ ВЫРАЗИТЬ(ЦеныНоменклатуры.Цена / ЦеныНоменклатуры.Упаковка.Коэффициент КАК ЧИСЛО(15, 2))
	КОНЕЦ КАК Цена
ПОМЕСТИТЬ втЦеныПравильные
ИЗ
	втПериодыЦенПоПравилам КАК ПериодыЦенПоПравилам
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ РегистрСведений.ЦеныНоменклатуры КАК ЦеныНоменклатуры
		ПО (ЦеныНоменклатуры.Период = ПериодыЦенПоПравилам.ДатаЦены)
			И (ЦеныНоменклатуры.ВидЦены = ПериодыЦенПоПравилам.ВидЦены)
			И (ЦеныНоменклатуры.Номенклатура = ПериодыЦенПоПравилам.Номенклатура)
			И (ЦеныНоменклатуры.Характеристика = ПериодыЦенПоПравилам.Характеристика)
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	СписаниеИзРегистра.Магазин КАК Магазин,
	СписаниеИзРегистра.АналитикаХозяйственнойОперации КАК АналитикаХозяйственнойОперации,
	СписаниеИзРегистра.Номенклатура КАК Номенклатура,
	СписаниеИзРегистра.Характеристика КАК Характеристика,
	СписаниеИзРегистра.Количество КАК Количество,
	ВЫБОР
		КОГДА НЕ ЦеныДействующие.Цена ЕСТЬ NULL 
			ТОГДА ЦеныДействующие.Цена * СписаниеИзРегистра.Количество
		КОГДА НЕ ЦеныАссортиментные.Цена ЕСТЬ NULL 
			ТОГДА ЦеныАссортиментные.Цена * СписаниеИзРегистра.Количество
		ИНАЧЕ ЕСТЬNULL(ЦеныПравильные.Цена, 0) * СписаниеИзРегистра.Количество
	КОНЕЦ КАК СуммаВРозничныхЦенах,
	"ТоварнаяГруппа" КАК ИдентификаторОтчета
ПОМЕСТИТЬ СуммаЦенРозничных
ИЗ
	СписаниеИзРегистра КАК СписаниеИзРегистра
		ЛЕВОЕ СОЕДИНЕНИЕ втЦеныДействующие КАК ЦеныДействующие
		ПО (ЦеныДействующие.Номенклатура = СписаниеИзРегистра.Номенклатура)
			И (ЦеныДействующие.Характеристика = СписаниеИзРегистра.Характеристика)
			И (ЦеныДействующие.Дата = СписаниеИзРегистра.Период)
			И (ЦеныДействующие.Магазин = СписаниеИзРегистра.Магазин)
		ЛЕВОЕ СОЕДИНЕНИЕ втЦеныАссортиментные КАК ЦеныАссортиментные
		ПО (ЦеныАссортиментные.Номенклатура = СписаниеИзРегистра.Номенклатура)
			И (ЦеныАссортиментные.Характеристика = СписаниеИзРегистра.Характеристика)
			И (ЦеныАссортиментные.Дата = СписаниеИзРегистра.Период)
			И (ЦеныАссортиментные.Магазин = СписаниеИзРегистра.Магазин)
		ЛЕВОЕ СОЕДИНЕНИЕ втЦеныПравильные КАК ЦеныПравильные
		ПО (ЦеныПравильные.Номенклатура = СписаниеИзРегистра.Номенклатура)
			И (ЦеныПравильные.Характеристика = СписаниеИзРегистра.Характеристика)
			И (ЦеныПравильные.Дата = СписаниеИзРегистра.Период)
			И (ЦеныПравильные.Магазин = СписаниеИзРегистра.Магазин)
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	ВложенныйЗапрос.Номенклатура.ТоварнаяГруппа КАК ТоварнаяГруппа,
	ВложенныйЗапрос.АналитикаХозяйственнойОперации,
	СУММА(ВложенныйЗапрос.СебестоимостьСписания) КАК СебестоимостьСписания,
	СУММА(ВложенныйЗапрос.Количество) КАК Количество,
	СУММА(ВложенныйЗапрос.СуммаВРозничныхЦенах) КАК СуммаВРозничныхЦенах,
	"ТоварнаяГруппа" КАК ИдентификаторОтчета
ПОМЕСТИТЬ СписаниеТоваровОбщее
ИЗ
	(ВЫБРАТЬ
		СписаниеТоваров.Магазин КАК Магазин,
		СписаниеТоваров.Номенклатура КАК Номенклатура,
		СписаниеТоваров.Характеристика КАК Характеристика,
		СписаниеТоваров.АналитикаХозяйственнойОперации КАК АналитикаХозяйственнойОперации,
		СписаниеТоваров.СебестоимостьСписания КАК СебестоимостьСписания,
		СписаниеТоваров.Количество КАК Количество,
		0 КАК СуммаВРозничныхЦенах
	ИЗ
		СписаниеТоваров КАК СписаниеТоваров
	
	ОБЪЕДИНИТЬ ВСЕ
	
	ВЫБРАТЬ
		СуммаЦенРозничных.Магазин,
		СуммаЦенРозничных.Номенклатура,
		СуммаЦенРозничных.Характеристика,
		СуммаЦенРозничных.АналитикаХозяйственнойОперации,
		0,
		0,
		СуммаЦенРозничных.СуммаВРозничныхЦенах
	ИЗ
		СуммаЦенРозничных КАК СуммаЦенРозничных) КАК ВложенныйЗапрос

СГРУППИРОВАТЬ ПО
	ВложенныйЗапрос.АналитикаХозяйственнойОперации,
	ВложенныйЗапрос.Номенклатура.ТоварнаяГруппа
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ПродажиОборотыСМагазином.Номенклатура КАК Номенклатура,
	ПродажиОборотыСМагазином.Характеристика КАК Характеристика,
	ПродажиОборотыСМагазином.КоличествоОборот КАК КоличествоОборот,
	ВЫБОР
		КОГДА Константы.СебестоимостьВключаетНДС
				ИЛИ НЕ Константы.ИспользоватьУчетСебестоимости
			ТОГДА ПродажиОборотыСМагазином.СтоимостьОборот
		ИНАЧЕ ПродажиОборотыСМагазином.СтоимостьОборот - ПродажиОборотыСМагазином.НДСОборот
	КОНЕЦ КАК СтоимостьОборот,
	ПродажиОборотыСМагазином.Период КАК Период,
	ПродажиОборотыСМагазином.Регистратор КАК Регистратор,
	ПродажиОборотыСМагазином.Магазин КАК Магазин,
	Константы.СебестоимостьВключаетНДС КАК СебестоимостьВключаетНДС,
	ПродажиОборотыСМагазином.СтоимостьБезСкидокОборот - ПродажиОборотыСМагазином.СтоимостьОборот КАК СуммаСкидки
ПОМЕСТИТЬ ПродажиОбороты
ИЗ
	РегистрНакопления.Продажи.Обороты(&amp;НачалоПериода, &amp;КонецПериода, Регистратор, {(Склад).* КАК Склад, (Номенклатура).* КАК Номенклатура, (Продавец).* КАК Продавец, (Склад.Магазин).* КАК Магазин, (Склад.Организация).* КАК Организация}) КАК ПродажиОборотыСМагазином,
	Константы КАК Константы
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	ЕСТЬNULL(СписаниеТоваровОбщее.СебестоимостьСписания, 0) КАК СебестоимостьСписания,
	ЕСТЬNULL(СписаниеТоваровОбщее.Количество, 0) КАК Количество,
	ЕСТЬNULL(Продажи.КоличествоОборот, 0) КАК КоличествоПродаж,
	СписаниеТоваровОбщее.АналитикаХозяйственнойОперации,
	ЕСТЬNULL(Продажи.ТоварнаяГруппа, СписаниеТоваровОбщее.ТоварнаяГруппа) КАК ТоварнаяГруппа,
	ЕСТЬNULL(СписаниеТоваровОбщее.СуммаВРозничныхЦенах, 0) КАК СуммаСписания,
	ЕСТЬNULL(Продажи.ВаловаяПрибыль, 0) КАК ВаловаяПрибыль,
	ЕСТЬNULL(Продажи.СтоимостьОборот, 0) КАК СуммаПродаж,
	"ТоварнаяГруппа" КАК ИдентификаторОтчета
ИЗ
	СписаниеТоваровОбщее КАК СписаниеТоваровОбщее
		ПОЛНОЕ СОЕДИНЕНИЕ (ВЫБРАТЬ
			ВложенныйЗапрос.Номенклатура.ТоварнаяГруппа КАК ТоварнаяГруппа,
			СУММА(ВложенныйЗапрос.КоличествоОборот) КАК КоличествоОборот,
			СУММА(ВложенныйЗапрос.СтоимостьОборот) КАК СтоимостьОборот,
			СУММА(ЕСТЬNULL(ВЫБОР
						КОГДА ВложенныйЗапрос.Номенклатура.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Услуга)
							ТОГДА 0
						ИНАЧЕ СебестоимостьНоменклатуры.Цена
					КОНЕЦ, 0) * ВложенныйЗапрос.КоличествоОборот) КАК СебестоимостьПродаж,
			СУММА(ВложенныйЗапрос.СтоимостьОборот - ЕСТЬNULL(ВЫБОР
						КОГДА ВложенныйЗапрос.Номенклатура.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Услуга)
							ТОГДА 0
						ИНАЧЕ СебестоимостьНоменклатуры.Цена
					КОНЕЦ, 0) * ВложенныйЗапрос.КоличествоОборот) КАК ВаловаяПрибыль
		ИЗ
			ПродажиОбороты КАК ВложенныйЗапрос
			ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.СебестоимостьНоменклатуры КАК СебестоимостьНоменклатуры
			ПО (ВложенныйЗапрос.Номенклатура = СебестоимостьНоменклатуры.Номенклатура
						И ВложенныйЗапрос.Характеристика = СебестоимостьНоменклатуры.Характеристика
						И СебестоимостьНоменклатуры.Регистратор В
							(ВЫБРАТЬ ПЕРВЫЕ 1
								Себестоимость.Регистратор
							ИЗ
								РегистрСведений.СебестоимостьНоменклатуры КАК Себестоимость
							ГДЕ
								(Себестоимость.Магазин = ВложенныйЗапрос.Магазин
									ИЛИ Себестоимость.Магазин = ЗНАЧЕНИЕ(Справочник.Магазины.ПустаяСсылка))
								И Себестоимость.Номенклатура = ВложенныйЗапрос.Номенклатура
								И Себестоимость.Характеристика = ВложенныйЗапрос.Характеристика
								И Себестоимость.Период &lt;= ВложенныйЗапрос.Период
							УПОРЯДОЧИТЬ ПО
								Себестоимость.Период УБЫВ,
								Себестоимость.Регистратор УБЫВ,
								ВЫБОР
									КОГДА Себестоимость.Магазин = ЗНАЧЕНИЕ(Справочник.Магазины.ПустаяСсылка)
										ТОГДА 0
									ИНАЧЕ 1
								КОНЕЦ)
						И СебестоимостьНоменклатуры.Магазин В
							(ВЫБРАТЬ ПЕРВЫЕ 1
								Себестоимость.Магазин
							ИЗ
								РегистрСведений.СебестоимостьНоменклатуры КАК Себестоимость
							ГДЕ
								(Себестоимость.Магазин = ВложенныйЗапрос.Магазин
									ИЛИ Себестоимость.Магазин = ЗНАЧЕНИЕ(Справочник.Магазины.ПустаяСсылка))
								И Себестоимость.Номенклатура = ВложенныйЗапрос.Номенклатура
								И Себестоимость.Характеристика = ВложенныйЗапрос.Характеристика
								И Себестоимость.Период &lt;= ВложенныйЗапрос.Период
							УПОРЯДОЧИТЬ ПО
								Себестоимость.Период УБЫВ,
								Себестоимость.Регистратор УБЫВ,
								ВЫБОР
									КОГДА Себестоимость.Магазин = ЗНАЧЕНИЕ(Справочник.Магазины.ПустаяСсылка)
										ТОГДА 0
									ИНАЧЕ 1
								КОНЕЦ))
		ГДЕ
			(ВложенныйЗапрос.КоличествоОборот &lt;&gt; 0
					ИЛИ ВложенныйЗапрос.СтоимостьОборот &lt;&gt; 0)
		
		СГРУППИРОВАТЬ ПО
			ВложенныйЗапрос.Номенклатура.ТоварнаяГруппа) КАК Продажи
		ПО СписаниеТоваровОбщее.ТоварнаяГруппа = Продажи.ТоварнаяГруппа</query>
		</item>
		<item xsi:type="DataSetQuery">
			<name>ПричиныСписанияПоМагазинам</name>
			<field xsi:type="DataSetFieldField">
				<dataPath>Магазин</dataPath>
				<field>Магазин</field>
				<role>
					<dcscom:dimension>true</dcscom:dimension>
				</role>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Номенклатура</dataPath>
				<field>Номенклатура</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Организация</dataPath>
				<field>Организация</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Продавец</dataPath>
				<field>Продавец</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Склад</dataPath>
				<field>Склад</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ВаловаяПрибыль</dataPath>
				<field>ВаловаяПрибыль</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ДокументПродажи</dataPath>
				<field>ДокументПродажи</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Количество</dataPath>
				<field>Количество</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>КоличествоПродаж</dataPath>
				<field>КоличествоПродаж</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>СебестоимостьСписания</dataPath>
				<field>СебестоимостьСписания</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>СуммаПродаж</dataPath>
				<field>СуммаПродаж</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>СуммаСписания</dataPath>
				<field>СуммаСписания</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Характеристика</dataPath>
				<field>Характеристика</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ИдентификаторОтчета</dataPath>
				<field>ИдентификаторОтчета</field>
				<valueType>
					<v8:Type>xs:string</v8:Type>
					<v8:StringQualifiers>
						<v8:Length>30</v8:Length>
						<v8:AllowedLength>Variable</v8:AllowedLength>
					</v8:StringQualifiers>
				</valueType>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>АналитикаХозяйственнойОперации</dataPath>
				<field>АналитикаХозяйственнойОперации</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ЗаказПокупателя</dataPath>
				<field>ЗаказПокупателя</field>
			</field>
			<dataSource>ИсточникДанных1</dataSource>
			<query>ВЫБРАТЬ РАЗРЕШЕННЫЕ
	ВложенныйЗапрос.Магазин,
	ВложенныйЗапрос.Номенклатура,
	ВложенныйЗапрос.Характеристика,
	ВложенныйЗапрос.Количество,
	ВложенныйЗапрос.АналитикаХозяйственнойОперации,
	ВложенныйЗапрос.Период,
	"Магазины" КАК ИдентификаторОтчета
ПОМЕСТИТЬ СписаниеИзРегистра
ИЗ
	(ВЫБРАТЬ
		ТоварыНаСкладах.Склад.Магазин КАК Магазин,
		ТоварыНаСкладах.Номенклатура КАК Номенклатура,
		ТоварыНаСкладах.Характеристика КАК Характеристика,
		СУММА(ВЫБОР
				КОГДА ТоварыНаСкладах.ВидДвижения = ЗНАЧЕНИЕ(ВидДвиженияНакопления.Расход)
					ТОГДА ТоварыНаСкладах.Количество
				ИНАЧЕ -ТоварыНаСкладах.Количество
			КОНЕЦ) КАК Количество,
		ТоварыНаСкладах.АналитикаХозяйственнойОперации КАК АналитикаХозяйственнойОперации,
		ТоварыНаСкладах.Период КАК Период
	ИЗ
		РегистрНакопления.ТоварыНаСкладах КАК ТоварыНаСкладах
	ГДЕ
		(ТоварыНаСкладах.АналитикаХозяйственнойОперации.ХозяйственнаяОперация = ЗНАЧЕНИЕ(Перечисление.ХозяйственныеОперации.СписаниеНаЗатраты)
				ИЛИ ТоварыНаСкладах.АналитикаХозяйственнойОперации.ХозяйственнаяОперация = ЗНАЧЕНИЕ(Перечисление.ХозяйственныеОперации.СписаниеПоИнвентаризации))
		И ТоварыНаСкладах.Период &gt;= &amp;НачалоПериода
		И (ТоварыНаСкладах.Период &lt;= &amp;КонецПериода
				ИЛИ &amp;КонецПериода = ДАТАВРЕМЯ(1, 1, 1, 0, 0, 0))
		И (НЕ ТоварыНаСкладах.Количество = 0)
	
	СГРУППИРОВАТЬ ПО
		ТоварыНаСкладах.Номенклатура,
		ТоварыНаСкладах.Склад.Магазин,
		ТоварыНаСкладах.АналитикаХозяйственнойОперации,
		ТоварыНаСкладах.Характеристика,
		ТоварыНаСкладах.Период) КАК ВложенныйЗапрос
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	СписанияиМаксимумыСебестоимости.Магазин,
	СписанияиМаксимумыСебестоимости.Номенклатура,
	СписанияиМаксимумыСебестоимости.Характеристика,
	СписанияиМаксимумыСебестоимости.АналитикаХозяйственнойОперации,
	СУММА(ВЫБОР
			КОГДА СписанияиМаксимумыСебестоимости.Номенклатура.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Услуга)
				ТОГДА 0
			ИНАЧЕ ЕСТЬNULL(СебестоимостьНоменклатуры.Цена, 0)
		КОНЕЦ * СписанияиМаксимумыСебестоимости.Количество) КАК СебестоимостьСписания,
	СУММА(СписанияиМаксимумыСебестоимости.Количество) КАК Количество,
	"Магазины" КАК ИдентификаторОтчета
ПОМЕСТИТЬ СписаниеТоваров
ИЗ
	СписаниеИзРегистра КАК СписанияиМаксимумыСебестоимости
			ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.СебестоимостьНоменклатуры КАК СебестоимостьНоменклатуры
			ПО (СписанияиМаксимумыСебестоимости.Номенклатура = СебестоимостьНоменклатуры.Номенклатура
						И СписанияиМаксимумыСебестоимости.Характеристика = СебестоимостьНоменклатуры.Характеристика
						И СебестоимостьНоменклатуры.Регистратор В
							(ВЫБРАТЬ ПЕРВЫЕ 1
								Себестоимость.Регистратор
							ИЗ
								РегистрСведений.СебестоимостьНоменклатуры КАК Себестоимость
							ГДЕ
								(Себестоимость.Магазин = СписанияиМаксимумыСебестоимости.Магазин
									ИЛИ Себестоимость.Магазин = ЗНАЧЕНИЕ(Справочник.Магазины.ПустаяСсылка))
								И Себестоимость.Номенклатура = СписанияиМаксимумыСебестоимости.Номенклатура
								И Себестоимость.Характеристика = СписанияиМаксимумыСебестоимости.Характеристика
								И Себестоимость.Период &lt;= СписанияиМаксимумыСебестоимости.Период
							УПОРЯДОЧИТЬ ПО
								Себестоимость.Период УБЫВ,
								Себестоимость.Регистратор УБЫВ,
								ВЫБОР
									КОГДА Себестоимость.Магазин = ЗНАЧЕНИЕ(Справочник.Магазины.ПустаяСсылка)
										ТОГДА 0
									ИНАЧЕ 1
								КОНЕЦ)
						И СебестоимостьНоменклатуры.Магазин В
							(ВЫБРАТЬ ПЕРВЫЕ 1
								Себестоимость.Магазин
							ИЗ
								РегистрСведений.СебестоимостьНоменклатуры КАК Себестоимость
							ГДЕ
								(Себестоимость.Магазин = СписанияиМаксимумыСебестоимости.Магазин
									ИЛИ Себестоимость.Магазин = ЗНАЧЕНИЕ(Справочник.Магазины.ПустаяСсылка))
								И Себестоимость.Номенклатура = СписанияиМаксимумыСебестоимости.Номенклатура
								И Себестоимость.Характеристика = СписанияиМаксимумыСебестоимости.Характеристика
								И Себестоимость.Период &lt;= СписанияиМаксимумыСебестоимости.Период
							УПОРЯДОЧИТЬ ПО
								Себестоимость.Период УБЫВ,
								Себестоимость.Регистратор УБЫВ,
								ВЫБОР
									КОГДА Себестоимость.Магазин = ЗНАЧЕНИЕ(Справочник.Магазины.ПустаяСсылка)
										ТОГДА 0
									ИНАЧЕ 1
								КОНЕЦ))
СГРУППИРОВАТЬ ПО
	СписанияиМаксимумыСебестоимости.Магазин,
	СписанияиМаксимумыСебестоимости.Номенклатура,
	СписанияиМаксимумыСебестоимости.Характеристика,
	СписанияиМаксимумыСебестоимости.АналитикаХозяйственнойОперации
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	Магазины.Ссылка КАК Магазин
ПОМЕСТИТЬ втМагазиныСПрименениемЦен
ИЗ
	Справочник.Магазины КАК Магазины
ГДЕ
	&amp;ИспользоватьПрименениеЦен
	И Магазины.ИспользоватьПрименениеЦен
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	Магазины.Ссылка КАК Магазин,
	Магазины.ФорматМагазина КАК ФорматМагазина
ПОМЕСТИТЬ втМагазиныСАссортиментом
ИЗ
	Справочник.Магазины КАК Магазины
ГДЕ
	Магазины.КонтролироватьАссортимент
	И &amp;ИспользоватьАссортимент
	И НЕ(&amp;ИспользоватьПрименениеЦен
				И Магазины.ИспользоватьПрименениеЦен)
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	Магазины.Ссылка КАК Магазин,
	Магазины.ПравилоЦенообразования КАК ПравилоЦенообразования,
	Магазины.ПравилоЦенообразования.ВидЦен КАК ВидЦены
ПОМЕСТИТЬ втМагазиныОбычные
ИЗ
	Справочник.Магазины КАК Магазины
ГДЕ
	(НЕ Магазины.КонтролироватьАссортимент
	ИЛИ НЕ &amp;ИспользоватьАссортимент)
	И НЕ(&amp;ИспользоватьПрименениеЦен
				И Магазины.ИспользоватьПрименениеЦен)
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	МагазиныОбычные.Магазин КАК Магазин,
	ПравилаЦенообразованияЦеновыеГруппы.ЦеноваяГруппа КАК ЦеноваяГруппа,
	ПравилаЦенообразованияЦеновыеГруппы.ВидЦен КАК ВидЦены
ПОМЕСТИТЬ втПравилаОбычныхМагазинов
ИЗ
	Справочник.ПравилаЦенообразования.ЦеновыеГруппы КАК ПравилаЦенообразованияЦеновыеГруппы
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ втМагазиныОбычные КАК МагазиныОбычные
		ПО (МагазиныОбычные.ПравилоЦенообразования = ПравилаЦенообразованияЦеновыеГруппы.Ссылка)
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	ТаблицаТовары.Номенклатура КАК Номенклатура,
	ТаблицаТовары.Характеристика КАК Характеристика,
	ТаблицаТовары.Магазин КАК Магазин,
	МАКСИМУМ(ДействующиеЦены.Период) КАК ДатаЦены,
	ТаблицаТовары.Период КАК Дата
ПОМЕСТИТЬ втТоварыСПериодамиДействующихЦен
ИЗ
	СписаниеИзРегистра КАК ТаблицаТовары
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ втМагазиныСПрименениемЦен КАК МагазиныСПрименениемЦен
		ПО (МагазиныСПрименениемЦен.Магазин = ТаблицаТовары.Магазин)
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ РегистрСведений.ДействующиеЦеныНоменклатуры КАК ДействующиеЦены
		ПО (ДействующиеЦены.ОбъектЦенообразования = ТаблицаТовары.Магазин)
			И (ДействующиеЦены.Период &lt;= ТаблицаТовары.Период)
			И (ДействующиеЦены.Номенклатура = ТаблицаТовары.Номенклатура)
			И (ДействующиеЦены.Характеристика = ТаблицаТовары.Характеристика)

СГРУППИРОВАТЬ ПО
	ТаблицаТовары.Номенклатура,
	ТаблицаТовары.Характеристика,
	ТаблицаТовары.Магазин,
	ТаблицаТовары.Период
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	ТоварыСПериодамиДействующихЦен.Магазин КАК Магазин,
	ТоварыСПериодамиДействующихЦен.Номенклатура КАК Номенклатура,
	ТоварыСПериодамиДействующихЦен.Характеристика КАК Характеристика,
	ТоварыСПериодамиДействующихЦен.Дата КАК Дата,
	ВЫБОР
		КОГДА ЕСТЬNULL(ДействующиеЦены.Упаковка.Коэффициент, 0) = 0
			ТОГДА ДействующиеЦены.Цена
		ИНАЧЕ ВЫРАЗИТЬ(ДействующиеЦены.Цена / ДействующиеЦены.Упаковка.Коэффициент КАК ЧИСЛО(15, 2))
	КОНЕЦ КАК Цена
ПОМЕСТИТЬ втЦеныДействующие
ИЗ
	втТоварыСПериодамиДействующихЦен КАК ТоварыСПериодамиДействующихЦен
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ РегистрСведений.ДействующиеЦеныНоменклатуры КАК ДействующиеЦены
		ПО (ДействующиеЦены.ОбъектЦенообразования = ТоварыСПериодамиДействующихЦен.Магазин)
			И (ДействующиеЦены.Период = ТоварыСПериодамиДействующихЦен.ДатаЦены)
			И (ДействующиеЦены.Номенклатура = ТоварыСПериодамиДействующихЦен.Номенклатура)
			И (ДействующиеЦены.Характеристика = ТоварыСПериодамиДействующихЦен.Характеристика)
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	ТаблицаТовары.Номенклатура КАК Номенклатура,
	ТаблицаТовары.Характеристика КАК Характеристика,
	ТаблицаТовары.Магазин.ФорматМагазина КАК ФорматМагазина,
	ТаблицаТовары.Магазин КАК Магазин,
	ТаблицаТовары.Период КАК Дата,
	МАКСИМУМ(Ассортимент.Период) КАК ДатаАссортимента
ПОМЕСТИТЬ втТоварыСПериодамиАссортимента
ИЗ
	СписаниеИзРегистра КАК ТаблицаТовары
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ втМагазиныСАссортиментом КАК МагазиныСАссортиментом
		ПО (МагазиныСАссортиментом.Магазин = ТаблицаТовары.Магазин)
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ РегистрСведений.Ассортимент КАК Ассортимент
		ПО (Ассортимент.ОбъектПланирования = ТаблицаТовары.Магазин.ФорматМагазина)
			И (Ассортимент.Период &lt;= КОНЕЦПЕРИОДА(ТаблицаТовары.Период, ДЕНЬ))
			И (Ассортимент.Номенклатура = ТаблицаТовары.Номенклатура)

СГРУППИРОВАТЬ ПО
	ТаблицаТовары.Номенклатура,
	ТаблицаТовары.Характеристика,
	ТаблицаТовары.Магазин.ФорматМагазина,
	ТаблицаТовары.Магазин,
	ТаблицаТовары.Период
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	ТоварыСПериодамиАссортимента.Номенклатура КАК Номенклатура,
	ТоварыСПериодамиАссортимента.Характеристика КАК Характеристика,
	ТоварыСПериодамиАссортимента.ФорматМагазина КАК ФорматМагазина,
	ТоварыСПериодамиАссортимента.Магазин КАК Магазин,
	ТоварыСПериодамиАссортимента.Дата КАК Дата,
	Ассортимент.ВидЦен КАК ВидЦен
ПОМЕСТИТЬ втВидыЦенАссортимента
ИЗ
	втТоварыСПериодамиАссортимента КАК ТоварыСПериодамиАссортимента
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ РегистрСведений.Ассортимент КАК Ассортимент
		ПО (Ассортимент.ОбъектПланирования = ТоварыСПериодамиАссортимента.ФорматМагазина)
			И (Ассортимент.Период = ТоварыСПериодамиАссортимента.ДатаАссортимента)
			И (Ассортимент.Номенклатура = ТоварыСПериодамиАссортимента.Номенклатура)
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	ВидыЦенАссортимента.Номенклатура КАК Номенклатура,
	ВидыЦенАссортимента.Характеристика КАК Характеристика,
	ВидыЦенАссортимента.Дата КАК Дата,
	ВидыЦенАссортимента.Магазин КАК Магазин,
	ВидыЦенАссортимента.ВидЦен КАК ВидЦен,
	МАКСИМУМ(ЦеныНоменклатуры.Период) КАК ДатаЦены
ПОМЕСТИТЬ втПериодыЦенПоАссортименту
ИЗ
	втВидыЦенАссортимента КАК ВидыЦенАссортимента
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ РегистрСведений.ЦеныНоменклатуры КАК ЦеныНоменклатуры
		ПО (ЦеныНоменклатуры.Период &lt;= ВидыЦенАссортимента.Дата)
			И (ЦеныНоменклатуры.ВидЦены = ВидыЦенАссортимента.ВидЦен)
			И (ЦеныНоменклатуры.Номенклатура = ВидыЦенАссортимента.Номенклатура)
			И (ЦеныНоменклатуры.Характеристика = ВидыЦенАссортимента.Характеристика)

СГРУППИРОВАТЬ ПО
	ВидыЦенАссортимента.Номенклатура,
	ВидыЦенАссортимента.Характеристика,
	ВидыЦенАссортимента.Дата,
	ВидыЦенАссортимента.Магазин,
	ВидыЦенАссортимента.ВидЦен
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	ПериодыЦенПоАссортименту.Магазин КАК Магазин,
	ПериодыЦенПоАссортименту.Номенклатура КАК Номенклатура,
	ПериодыЦенПоАссортименту.Характеристика КАК Характеристика,
	ПериодыЦенПоАссортименту.Дата КАК Дата,
	ВЫБОР
		КОГДА ЕСТЬNULL(ЦеныНоменклатуры.Упаковка.Коэффициент, 0) = 0
			ТОГДА ЦеныНоменклатуры.Цена
		ИНАЧЕ ВЫРАЗИТЬ(ЦеныНоменклатуры.Цена / ЦеныНоменклатуры.Упаковка.Коэффициент КАК ЧИСЛО(15, 2))
	КОНЕЦ КАК Цена
ПОМЕСТИТЬ втЦеныАссортиментные
ИЗ
	втПериодыЦенПоАссортименту КАК ПериодыЦенПоАссортименту
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ РегистрСведений.ЦеныНоменклатуры КАК ЦеныНоменклатуры
		ПО (ЦеныНоменклатуры.Период = ПериодыЦенПоАссортименту.ДатаЦены)
			И (ЦеныНоменклатуры.ВидЦены = ПериодыЦенПоАссортименту.ВидЦен)
			И (ЦеныНоменклатуры.Номенклатура = ПериодыЦенПоАссортименту.Номенклатура)
			И (ЦеныНоменклатуры.Характеристика = ПериодыЦенПоАссортименту.Характеристика)
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ТаблицаТовары.Номенклатура КАК Номенклатура,
	ТаблицаТовары.Характеристика КАК Характеристика,
	ТаблицаТовары.Магазин КАК Магазин,
	ТаблицаТовары.Период КАК Дата,
	ЕСТЬNULL(ПравилаОбычныхМагазинов.ВидЦены, МагазиныОбычные.ВидЦены) КАК ВидЦены
ПОМЕСТИТЬ втВидыЦенПоПравилам
ИЗ
	СписаниеИзРегистра КАК ТаблицаТовары
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ втМагазиныОбычные КАК МагазиныОбычные
		ПО (МагазиныОбычные.Магазин = ТаблицаТовары.Магазин)
		ЛЕВОЕ СОЕДИНЕНИЕ втПравилаОбычныхМагазинов КАК ПравилаОбычныхМагазинов
		ПО (ПравилаОбычныхМагазинов.Магазин = ТаблицаТовары.Магазин)
			И (ПравилаОбычныхМагазинов.ЦеноваяГруппа = ТаблицаТовары.Номенклатура.ЦеноваяГруппа)

СГРУППИРОВАТЬ ПО
	ТаблицаТовары.Номенклатура,
	ТаблицаТовары.Характеристика,
	ТаблицаТовары.Магазин,
	ТаблицаТовары.Период,
	ЕСТЬNULL(ПравилаОбычныхМагазинов.ВидЦены, МагазиныОбычные.ВидЦены)
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	ВидыЦенПоПравилам.Номенклатура КАК Номенклатура,
	ВидыЦенПоПравилам.Характеристика КАК Характеристика,
	ВидыЦенПоПравилам.Дата КАК Дата,
	ВидыЦенПоПравилам.Магазин КАК Магазин,
	ВидыЦенПоПравилам.ВидЦены КАК ВидЦены,
	МАКСИМУМ(ЦеныНоменклатуры.Период) КАК ДатаЦены
ПОМЕСТИТЬ втПериодыЦенПоПравилам
ИЗ
	втВидыЦенПоПравилам КАК ВидыЦенПоПравилам
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ РегистрСведений.ЦеныНоменклатуры КАК ЦеныНоменклатуры
		ПО (ЦеныНоменклатуры.Период &lt;= ВидыЦенПоПравилам.Дата)
			И (ЦеныНоменклатуры.ВидЦены = ВидыЦенПоПравилам.ВидЦены)
			И (ЦеныНоменклатуры.Номенклатура = ВидыЦенПоПравилам.Номенклатура)
			И (ЦеныНоменклатуры.Характеристика = ВидыЦенПоПравилам.Характеристика)

СГРУППИРОВАТЬ ПО
	ВидыЦенПоПравилам.Номенклатура,
	ВидыЦенПоПравилам.Характеристика,
	ВидыЦенПоПравилам.Дата,
	ВидыЦенПоПравилам.Магазин,
	ВидыЦенПоПравилам.ВидЦены
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	ПериодыЦенПоПравилам.Магазин КАК Магазин,
	ПериодыЦенПоПравилам.Номенклатура КАК Номенклатура,
	ПериодыЦенПоПравилам.Характеристика КАК Характеристика,
	ПериодыЦенПоПравилам.Дата КАК Дата,
	ВЫБОР
		КОГДА ЕСТЬNULL(ЦеныНоменклатуры.Упаковка.Коэффициент, 0) = 0
			ТОГДА ЦеныНоменклатуры.Цена
		ИНАЧЕ ВЫРАЗИТЬ(ЦеныНоменклатуры.Цена / ЦеныНоменклатуры.Упаковка.Коэффициент КАК ЧИСЛО(15, 2))
	КОНЕЦ КАК Цена
ПОМЕСТИТЬ втЦеныПравильные
ИЗ
	втПериодыЦенПоПравилам КАК ПериодыЦенПоПравилам
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ РегистрСведений.ЦеныНоменклатуры КАК ЦеныНоменклатуры
		ПО (ЦеныНоменклатуры.Период = ПериодыЦенПоПравилам.ДатаЦены)
			И (ЦеныНоменклатуры.ВидЦены = ПериодыЦенПоПравилам.ВидЦены)
			И (ЦеныНоменклатуры.Номенклатура = ПериодыЦенПоПравилам.Номенклатура)
			И (ЦеныНоменклатуры.Характеристика = ПериодыЦенПоПравилам.Характеристика)
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	СписаниеИзРегистра.Магазин КАК Магазин,
	СписаниеИзРегистра.АналитикаХозяйственнойОперации КАК АналитикаХозяйственнойОперации,
	СписаниеИзРегистра.Номенклатура КАК Номенклатура,
	СписаниеИзРегистра.Характеристика КАК Характеристика,
	СписаниеИзРегистра.Количество КАК Количество,
	ВЫБОР
		КОГДА НЕ ЦеныДействующие.Цена ЕСТЬ NULL 
			ТОГДА ЦеныДействующие.Цена * СписаниеИзРегистра.Количество
		КОГДА НЕ ЦеныАссортиментные.Цена ЕСТЬ NULL 
			ТОГДА ЦеныАссортиментные.Цена * СписаниеИзРегистра.Количество
		ИНАЧЕ ЕСТЬNULL(ЦеныПравильные.Цена, 0) * СписаниеИзРегистра.Количество
	КОНЕЦ КАК СуммаВРозничныхЦенах,
	"ТоварнаяГруппа" КАК ИдентификаторОтчета
ПОМЕСТИТЬ СуммаЦенРозничных
ИЗ
	СписаниеИзРегистра КАК СписаниеИзРегистра
		ЛЕВОЕ СОЕДИНЕНИЕ втЦеныДействующие КАК ЦеныДействующие
		ПО (ЦеныДействующие.Номенклатура = СписаниеИзРегистра.Номенклатура)
			И (ЦеныДействующие.Характеристика = СписаниеИзРегистра.Характеристика)
			И (ЦеныДействующие.Дата = СписаниеИзРегистра.Период)
			И (ЦеныДействующие.Магазин = СписаниеИзРегистра.Магазин)
		ЛЕВОЕ СОЕДИНЕНИЕ втЦеныАссортиментные КАК ЦеныАссортиментные
		ПО (ЦеныАссортиментные.Номенклатура = СписаниеИзРегистра.Номенклатура)
			И (ЦеныАссортиментные.Характеристика = СписаниеИзРегистра.Характеристика)
			И (ЦеныАссортиментные.Дата = СписаниеИзРегистра.Период)
			И (ЦеныАссортиментные.Магазин = СписаниеИзРегистра.Магазин)
		ЛЕВОЕ СОЕДИНЕНИЕ втЦеныПравильные КАК ЦеныПравильные
		ПО (ЦеныПравильные.Номенклатура = СписаниеИзРегистра.Номенклатура)
			И (ЦеныПравильные.Характеристика = СписаниеИзРегистра.Характеристика)
			И (ЦеныПравильные.Дата = СписаниеИзРегистра.Период)
			И (ЦеныПравильные.Магазин = СписаниеИзРегистра.Магазин)
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	ВложенныйЗапрос.АналитикаХозяйственнойОперации,
	СУММА(ВложенныйЗапрос.СебестоимостьСписания) КАК СебестоимостьСписания,
	СУММА(ВложенныйЗапрос.Количество) КАК Количество,
	СУММА(ВложенныйЗапрос.СуммаВРозничныхЦенах) КАК СуммаВРозничныхЦенах,
	ВложенныйЗапрос.Магазин,
	"Магазины" КАК ИдентификаторОтчета
ПОМЕСТИТЬ СписаниеТоваровОбщее
ИЗ
	(ВЫБРАТЬ
		СписаниеТоваров.Магазин КАК Магазин,
		СписаниеТоваров.Номенклатура КАК Номенклатура,
		СписаниеТоваров.Характеристика КАК Характеристика,
		СписаниеТоваров.АналитикаХозяйственнойОперации КАК АналитикаХозяйственнойОперации,
		СписаниеТоваров.СебестоимостьСписания КАК СебестоимостьСписания,
		СписаниеТоваров.Количество КАК Количество,
		0 КАК СуммаВРозничныхЦенах
	ИЗ
		СписаниеТоваров КАК СписаниеТоваров
	
	ОБЪЕДИНИТЬ ВСЕ
	
	ВЫБРАТЬ
		СуммаЦенРозничных.Магазин,
		СуммаЦенРозничных.Номенклатура,
		СуммаЦенРозничных.Характеристика,
		СуммаЦенРозничных.АналитикаХозяйственнойОперации,
		0,
		0,
		СуммаЦенРозничных.СуммаВРозничныхЦенах
	ИЗ
		СуммаЦенРозничных КАК СуммаЦенРозничных) КАК ВложенныйЗапрос

СГРУППИРОВАТЬ ПО
	ВложенныйЗапрос.АналитикаХозяйственнойОперации,
	ВложенныйЗапрос.Магазин
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ПродажиОборотыСМагазином.Номенклатура КАК Номенклатура,
	ПродажиОборотыСМагазином.Характеристика КАК Характеристика,
	ПродажиОборотыСМагазином.КоличествоОборот КАК КоличествоОборот,
	ВЫБОР
		КОГДА (НЕ Константы.ИспользоватьУчетСебестоимости)
				ИЛИ Константы.СебестоимостьВключаетНДС
			ТОГДА ПродажиОборотыСМагазином.СтоимостьОборот
		ИНАЧЕ ПродажиОборотыСМагазином.СтоимостьОборот - ПродажиОборотыСМагазином.НДСОборот
	КОНЕЦ КАК СтоимостьОборот,
	ПродажиОборотыСМагазином.Период КАК Период,
	ПродажиОборотыСМагазином.Регистратор КАК Регистратор,
	ПродажиОборотыСМагазином.Магазин КАК Магазин,
	Константы.СебестоимостьВключаетНДС КАК СебестоимостьВключаетНДС,
	ПродажиОборотыСМагазином.СтоимостьБезСкидокОборот - ПродажиОборотыСМагазином.СтоимостьОборот КАК СуммаСкидки
ПОМЕСТИТЬ ПродажиОбороты
ИЗ
	РегистрНакопления.Продажи.Обороты(&amp;НачалоПериода, &amp;КонецПериода, Регистратор, {(Склад).* КАК Склад, (Номенклатура).* КАК Номенклатура, (Продавец).* КАК Продавец, (Склад.Магазин).* КАК Магазин, (Склад.Организация).* КАК Организация}) КАК ПродажиОборотыСМагазином,
	Константы КАК Константы
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	ЕСТЬNULL(СписаниеТоваровОбщее.СебестоимостьСписания, 0) КАК СебестоимостьСписания,
	ЕСТЬNULL(СписаниеТоваровОбщее.Количество, 0) КАК Количество,
	ЕСТЬNULL(Продажи.КоличествоОборот, 0) КАК КоличествоПродаж,
	СписаниеТоваровОбщее.АналитикаХозяйственнойОперации,
	ЕСТЬNULL(Продажи.Магазин, СписаниеТоваровОбщее.Магазин) КАК Магазин,
	ЕСТЬNULL(СписаниеТоваровОбщее.СуммаВРозничныхЦенах, 0) КАК СуммаСписания,
	ЕСТЬNULL(Продажи.ВаловаяПрибыль, 0) КАК ВаловаяПрибыль,
	ЕСТЬNULL(Продажи.СтоимостьОборот, 0) КАК СуммаПродаж,
	"Магазины" КАК ИдентификаторОтчета
ИЗ
	СписаниеТоваровОбщее КАК СписаниеТоваровОбщее
		ПОЛНОЕ СОЕДИНЕНИЕ (ВЫБРАТЬ
			СУММА(ВложенныйЗапрос.КоличествоОборот) КАК КоличествоОборот,
			СУММА(ВложенныйЗапрос.СтоимостьОборот) КАК СтоимостьОборот,
			СУММА(ЕСТЬNULL(ВЫБОР
						КОГДА ВложенныйЗапрос.Номенклатура.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Услуга)
							ТОГДА 0
						ИНАЧЕ СебестоимостьНоменклатуры.Цена
					КОНЕЦ, 0) * ВложенныйЗапрос.КоличествоОборот) КАК СебестоимостьПродаж,
			СУММА(ВложенныйЗапрос.СтоимостьОборот - ЕСТЬNULL(ВЫБОР
						КОГДА ВложенныйЗапрос.Номенклатура.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Услуга)
							ТОГДА 0
						ИНАЧЕ СебестоимостьНоменклатуры.Цена
					КОНЕЦ, 0) * ВложенныйЗапрос.КоличествоОборот) КАК ВаловаяПрибыль,
			ВложенныйЗапрос.Магазин КАК Магазин
		ИЗ
			ПродажиОбороты КАК ВложенныйЗапрос
			ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.СебестоимостьНоменклатуры КАК СебестоимостьНоменклатуры
			ПО (ВложенныйЗапрос.Номенклатура = СебестоимостьНоменклатуры.Номенклатура
				И ВложенныйЗапрос.Характеристика = СебестоимостьНоменклатуры.Характеристика
				И СебестоимостьНоменклатуры.Регистратор В
					(ВЫБРАТЬ ПЕРВЫЕ 1
						Себестоимость.Регистратор
					ИЗ
						РегистрСведений.СебестоимостьНоменклатуры КАК Себестоимость
					ГДЕ
						(Себестоимость.Магазин = ВложенныйЗапрос.Магазин
							ИЛИ Себестоимость.Магазин = ЗНАЧЕНИЕ(Справочник.Магазины.ПустаяСсылка))
						И Себестоимость.Номенклатура = ВложенныйЗапрос.Номенклатура
						И Себестоимость.Характеристика = ВложенныйЗапрос.Характеристика
						И Себестоимость.Период &lt;= ВложенныйЗапрос.Период
					УПОРЯДОЧИТЬ ПО
						Себестоимость.Период УБЫВ,
						Себестоимость.Регистратор УБЫВ,
						ВЫБОР
							КОГДА Себестоимость.Магазин = ЗНАЧЕНИЕ(Справочник.Магазины.ПустаяСсылка)
								ТОГДА 0
							ИНАЧЕ 1
						КОНЕЦ)
				И СебестоимостьНоменклатуры.Магазин В
					(ВЫБРАТЬ ПЕРВЫЕ 1
						Себестоимость.Магазин
					ИЗ
						РегистрСведений.СебестоимостьНоменклатуры КАК Себестоимость
					ГДЕ
						(Себестоимость.Магазин = ВложенныйЗапрос.Магазин
							ИЛИ Себестоимость.Магазин = ЗНАЧЕНИЕ(Справочник.Магазины.ПустаяСсылка))
						И Себестоимость.Номенклатура = ВложенныйЗапрос.Номенклатура
						И Себестоимость.Характеристика = ВложенныйЗапрос.Характеристика
						И Себестоимость.Период &lt;= ВложенныйЗапрос.Период
					УПОРЯДОЧИТЬ ПО
						Себестоимость.Период УБЫВ,
						Себестоимость.Регистратор УБЫВ,
						ВЫБОР
							КОГДА Себестоимость.Магазин = ЗНАЧЕНИЕ(Справочник.Магазины.ПустаяСсылка)
								ТОГДА 0
							ИНАЧЕ 1
						КОНЕЦ))
		ГДЕ
			(ВложенныйЗапрос.КоличествоОборот &lt;&gt; 0
					ИЛИ ВложенныйЗапрос.СтоимостьОборот &lt;&gt; 0)
		
		СГРУППИРОВАТЬ ПО
			ВложенныйЗапрос.Магазин) КАК Продажи
		ПО СписаниеТоваровОбщее.Магазин = Продажи.Магазин</query>
		</item>
		<item xsi:type="DataSetQuery">
			<name>ПричиныСписанияДетально</name>
			<field xsi:type="DataSetFieldField">
				<dataPath>Магазин</dataPath>
				<field>Магазин</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>АналитикаХозяйственнойОперации</dataPath>
				<field>АналитикаХозяйственнойОперации</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ИдентификаторОтчета</dataPath>
				<field>ИдентификаторОтчета</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Количество</dataPath>
				<field>Количество</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Номенклатура</dataPath>
				<field>Номенклатура</field>
				<role>
					<dcscom:dimension>true</dcscom:dimension>
				</role>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ТоварнаяГруппа</dataPath>
				<field>ТоварнаяГруппа</field>
				<valueType>
					<v8:Type xmlns:d6p1="http://v8.1c.ru/8.1/data/enterprise/current-config">d6p1:CatalogRef.ТоварныеГруппы</v8:Type>
				</valueType>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>СебестоимостьСписания</dataPath>
				<field>СебестоимостьСписания</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>СуммаВРозничныхЦенах</dataPath>
				<field>СуммаВРозничныхЦенах</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Характеристика</dataPath>
				<field>Характеристика</field>
				<role>
					<dcscom:dimension>true</dcscom:dimension>
				</role>
			</field>
			<dataSource>ИсточникДанных1</dataSource>
			<query>////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	ВложенныйЗапрос.Магазин,
	ВложенныйЗапрос.Номенклатура,
	ВложенныйЗапрос.Характеристика,
	ВложенныйЗапрос.Количество,
	ВложенныйЗапрос.АналитикаХозяйственнойОперации,
	ВложенныйЗапрос.Период,
	"Детально" КАК ИдентификаторОтчета
ПОМЕСТИТЬ СписаниеИзРегистра
ИЗ
	(ВЫБРАТЬ
		ТоварыНаСкладах.Склад.Магазин КАК Магазин,
		ТоварыНаСкладах.Номенклатура КАК Номенклатура,
		ТоварыНаСкладах.Характеристика КАК Характеристика,
		СУММА(ВЫБОР
				КОГДА ТоварыНаСкладах.ВидДвижения = ЗНАЧЕНИЕ(ВидДвиженияНакопления.Расход)
					ТОГДА ТоварыНаСкладах.Количество
				ИНАЧЕ -ТоварыНаСкладах.Количество
			КОНЕЦ) КАК Количество,
		ТоварыНаСкладах.АналитикаХозяйственнойОперации КАК АналитикаХозяйственнойОперации,
		ТоварыНаСкладах.Период КАК Период
	ИЗ
		РегистрНакопления.ТоварыНаСкладах КАК ТоварыНаСкладах
	ГДЕ
		(ТоварыНаСкладах.АналитикаХозяйственнойОперации.ХозяйственнаяОперация = ЗНАЧЕНИЕ(Перечисление.ХозяйственныеОперации.СписаниеНаЗатраты)
				ИЛИ ТоварыНаСкладах.АналитикаХозяйственнойОперации.ХозяйственнаяОперация = ЗНАЧЕНИЕ(Перечисление.ХозяйственныеОперации.СписаниеПоИнвентаризации))
		И ТоварыНаСкладах.Период &gt;= &amp;НачалоПериода
		И (ТоварыНаСкладах.Период &lt;= &amp;КонецПериода
				ИЛИ &amp;КонецПериода = ДАТАВРЕМЯ(1, 1, 1, 0, 0, 0))
		И (НЕ ТоварыНаСкладах.Количество = 0)
	
	СГРУППИРОВАТЬ ПО
		ТоварыНаСкладах.Номенклатура,
		ТоварыНаСкладах.Склад.Магазин,
		ТоварыНаСкладах.АналитикаХозяйственнойОперации,
		ТоварыНаСкладах.Характеристика,
		ТоварыНаСкладах.Период) КАК ВложенныйЗапрос
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	СписанияиМаксимумыСебестоимости.Магазин,
	СписанияиМаксимумыСебестоимости.Номенклатура,
	СписанияиМаксимумыСебестоимости.Характеристика,
	СписанияиМаксимумыСебестоимости.АналитикаХозяйственнойОперации,
	СУММА(ВЫБОР
			КОГДА СписанияиМаксимумыСебестоимости.Номенклатура.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Услуга)
				ТОГДА 0
			ИНАЧЕ ЕСТЬNULL(СебестоимостьНоменклатуры.Цена, 0)
		КОНЕЦ * СписанияиМаксимумыСебестоимости.Количество) КАК СебестоимостьСписания,
	СУММА(СписанияиМаксимумыСебестоимости.Количество) КАК Количество,
	"Детально" КАК ИдентификаторОтчета
ПОМЕСТИТЬ СписаниеТоваров
ИЗ
	СписаниеИзРегистра КАК СписанияиМаксимумыСебестоимости
			ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.СебестоимостьНоменклатуры КАК СебестоимостьНоменклатуры
			ПО (СписанияиМаксимумыСебестоимости.Номенклатура = СебестоимостьНоменклатуры.Номенклатура
				И СписанияиМаксимумыСебестоимости.Характеристика = СебестоимостьНоменклатуры.Характеристика
				И СебестоимостьНоменклатуры.Регистратор В
					(ВЫБРАТЬ ПЕРВЫЕ 1
						Себестоимость.Регистратор
					ИЗ
						РегистрСведений.СебестоимостьНоменклатуры КАК Себестоимость
					ГДЕ
						(Себестоимость.Магазин = СписанияиМаксимумыСебестоимости.Магазин
							ИЛИ Себестоимость.Магазин = ЗНАЧЕНИЕ(Справочник.Магазины.ПустаяСсылка))
						И Себестоимость.Номенклатура = СписанияиМаксимумыСебестоимости.Номенклатура
						И Себестоимость.Характеристика = СписанияиМаксимумыСебестоимости.Характеристика
						И Себестоимость.Период &lt;= СписанияиМаксимумыСебестоимости.Период
					УПОРЯДОЧИТЬ ПО
						Себестоимость.Период УБЫВ,
						Себестоимость.Регистратор УБЫВ,
						ВЫБОР
							КОГДА Себестоимость.Магазин = ЗНАЧЕНИЕ(Справочник.Магазины.ПустаяСсылка)
								ТОГДА 0
							ИНАЧЕ 1
						КОНЕЦ)
				И СебестоимостьНоменклатуры.Магазин В
					(ВЫБРАТЬ ПЕРВЫЕ 1
						Себестоимость.Магазин
					ИЗ
						РегистрСведений.СебестоимостьНоменклатуры КАК Себестоимость
					ГДЕ
						(Себестоимость.Магазин = СписанияиМаксимумыСебестоимости.Магазин
							ИЛИ Себестоимость.Магазин = ЗНАЧЕНИЕ(Справочник.Магазины.ПустаяСсылка))
						И Себестоимость.Номенклатура = СписанияиМаксимумыСебестоимости.Номенклатура
						И Себестоимость.Характеристика = СписанияиМаксимумыСебестоимости.Характеристика
						И Себестоимость.Период &lt;= СписанияиМаксимумыСебестоимости.Период
					УПОРЯДОЧИТЬ ПО
						Себестоимость.Период УБЫВ,
						Себестоимость.Регистратор УБЫВ,
						ВЫБОР
							КОГДА Себестоимость.Магазин = ЗНАЧЕНИЕ(Справочник.Магазины.ПустаяСсылка)
								ТОГДА 0
							ИНАЧЕ 1
						КОНЕЦ))
СГРУППИРОВАТЬ ПО
	СписанияиМаксимумыСебестоимости.Магазин,
	СписанияиМаксимумыСебестоимости.Номенклатура,
	СписанияиМаксимумыСебестоимости.Характеристика,
	СписанияиМаксимумыСебестоимости.АналитикаХозяйственнойОперации
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	Магазины.Ссылка КАК Магазин
ПОМЕСТИТЬ втМагазиныСПрименениемЦен
ИЗ
	Справочник.Магазины КАК Магазины
ГДЕ
	&amp;ИспользоватьПрименениеЦен
	И Магазины.ИспользоватьПрименениеЦен
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	Магазины.Ссылка КАК Магазин,
	Магазины.ФорматМагазина КАК ФорматМагазина
ПОМЕСТИТЬ втМагазиныСАссортиментом
ИЗ
	Справочник.Магазины КАК Магазины
ГДЕ
	Магазины.КонтролироватьАссортимент
	И &amp;ИспользоватьАссортимент
	И НЕ(&amp;ИспользоватьПрименениеЦен
				И Магазины.ИспользоватьПрименениеЦен)
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	Магазины.Ссылка КАК Магазин,
	Магазины.ПравилоЦенообразования КАК ПравилоЦенообразования,
	Магазины.ПравилоЦенообразования.ВидЦен КАК ВидЦены
ПОМЕСТИТЬ втМагазиныОбычные
ИЗ
	Справочник.Магазины КАК Магазины
ГДЕ
	(НЕ Магазины.КонтролироватьАссортимент
	ИЛИ НЕ &amp;ИспользоватьАссортимент)
	И НЕ(&amp;ИспользоватьПрименениеЦен
				И Магазины.ИспользоватьПрименениеЦен)
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	МагазиныОбычные.Магазин КАК Магазин,
	ПравилаЦенообразованияЦеновыеГруппы.ЦеноваяГруппа КАК ЦеноваяГруппа,
	ПравилаЦенообразованияЦеновыеГруппы.ВидЦен КАК ВидЦены
ПОМЕСТИТЬ втПравилаОбычныхМагазинов
ИЗ
	Справочник.ПравилаЦенообразования.ЦеновыеГруппы КАК ПравилаЦенообразованияЦеновыеГруппы
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ втМагазиныОбычные КАК МагазиныОбычные
		ПО (МагазиныОбычные.ПравилоЦенообразования = ПравилаЦенообразованияЦеновыеГруппы.Ссылка)
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	ТаблицаТовары.Номенклатура КАК Номенклатура,
	ТаблицаТовары.Характеристика КАК Характеристика,
	ТаблицаТовары.Магазин КАК Магазин,
	МАКСИМУМ(ДействующиеЦены.Период) КАК ДатаЦены,
	ТаблицаТовары.Период КАК Дата
ПОМЕСТИТЬ втТоварыСПериодамиДействующихЦен
ИЗ
	СписаниеИзРегистра КАК ТаблицаТовары
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ втМагазиныСПрименениемЦен КАК МагазиныСПрименениемЦен
		ПО (МагазиныСПрименениемЦен.Магазин = ТаблицаТовары.Магазин)
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ РегистрСведений.ДействующиеЦеныНоменклатуры КАК ДействующиеЦены
		ПО (ДействующиеЦены.ОбъектЦенообразования = ТаблицаТовары.Магазин)
			И (ДействующиеЦены.Период &lt;= ТаблицаТовары.Период)
			И (ДействующиеЦены.Номенклатура = ТаблицаТовары.Номенклатура)
			И (ДействующиеЦены.Характеристика = ТаблицаТовары.Характеристика)

СГРУППИРОВАТЬ ПО
	ТаблицаТовары.Номенклатура,
	ТаблицаТовары.Характеристика,
	ТаблицаТовары.Магазин,
	ТаблицаТовары.Период
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	ТоварыСПериодамиДействующихЦен.Магазин КАК Магазин,
	ТоварыСПериодамиДействующихЦен.Номенклатура КАК Номенклатура,
	ТоварыСПериодамиДействующихЦен.Характеристика КАК Характеристика,
	ТоварыСПериодамиДействующихЦен.Дата КАК Дата,
	ВЫБОР
		КОГДА ЕСТЬNULL(ДействующиеЦены.Упаковка.Коэффициент, 0) = 0
			ТОГДА ДействующиеЦены.Цена
		ИНАЧЕ ВЫРАЗИТЬ(ДействующиеЦены.Цена / ДействующиеЦены.Упаковка.Коэффициент КАК ЧИСЛО(15, 2))
	КОНЕЦ КАК Цена
ПОМЕСТИТЬ втЦеныДействующие
ИЗ
	втТоварыСПериодамиДействующихЦен КАК ТоварыСПериодамиДействующихЦен
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ РегистрСведений.ДействующиеЦеныНоменклатуры КАК ДействующиеЦены
		ПО (ДействующиеЦены.ОбъектЦенообразования = ТоварыСПериодамиДействующихЦен.Магазин)
			И (ДействующиеЦены.Период = ТоварыСПериодамиДействующихЦен.ДатаЦены)
			И (ДействующиеЦены.Номенклатура = ТоварыСПериодамиДействующихЦен.Номенклатура)
			И (ДействующиеЦены.Характеристика = ТоварыСПериодамиДействующихЦен.Характеристика)
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	ТаблицаТовары.Номенклатура КАК Номенклатура,
	ТаблицаТовары.Характеристика КАК Характеристика,
	ТаблицаТовары.Магазин.ФорматМагазина КАК ФорматМагазина,
	ТаблицаТовары.Магазин КАК Магазин,
	ТаблицаТовары.Период КАК Дата,
	МАКСИМУМ(Ассортимент.Период) КАК ДатаАссортимента
ПОМЕСТИТЬ втТоварыСПериодамиАссортимента
ИЗ
	СписаниеИзРегистра КАК ТаблицаТовары
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ втМагазиныСАссортиментом КАК МагазиныСАссортиментом
		ПО (МагазиныСАссортиментом.Магазин = ТаблицаТовары.Магазин)
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ РегистрСведений.Ассортимент КАК Ассортимент
		ПО (Ассортимент.ОбъектПланирования = ТаблицаТовары.Магазин.ФорматМагазина)
			И (Ассортимент.Период &lt;= КОНЕЦПЕРИОДА(ТаблицаТовары.Период, ДЕНЬ))
			И (Ассортимент.Номенклатура = ТаблицаТовары.Номенклатура)

СГРУППИРОВАТЬ ПО
	ТаблицаТовары.Номенклатура,
	ТаблицаТовары.Характеристика,
	ТаблицаТовары.Магазин.ФорматМагазина,
	ТаблицаТовары.Магазин,
	ТаблицаТовары.Период
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	ТоварыСПериодамиАссортимента.Номенклатура КАК Номенклатура,
	ТоварыСПериодамиАссортимента.Характеристика КАК Характеристика,
	ТоварыСПериодамиАссортимента.ФорматМагазина КАК ФорматМагазина,
	ТоварыСПериодамиАссортимента.Магазин КАК Магазин,
	ТоварыСПериодамиАссортимента.Дата КАК Дата,
	Ассортимент.ВидЦен КАК ВидЦен
ПОМЕСТИТЬ втВидыЦенАссортимента
ИЗ
	втТоварыСПериодамиАссортимента КАК ТоварыСПериодамиАссортимента
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ РегистрСведений.Ассортимент КАК Ассортимент
		ПО (Ассортимент.ОбъектПланирования = ТоварыСПериодамиАссортимента.ФорматМагазина)
			И (Ассортимент.Период = ТоварыСПериодамиАссортимента.ДатаАссортимента)
			И (Ассортимент.Номенклатура = ТоварыСПериодамиАссортимента.Номенклатура)
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	ВидыЦенАссортимента.Номенклатура КАК Номенклатура,
	ВидыЦенАссортимента.Характеристика КАК Характеристика,
	ВидыЦенАссортимента.Дата КАК Дата,
	ВидыЦенАссортимента.Магазин КАК Магазин,
	ВидыЦенАссортимента.ВидЦен КАК ВидЦен,
	МАКСИМУМ(ЦеныНоменклатуры.Период) КАК ДатаЦены
ПОМЕСТИТЬ втПериодыЦенПоАссортименту
ИЗ
	втВидыЦенАссортимента КАК ВидыЦенАссортимента
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ РегистрСведений.ЦеныНоменклатуры КАК ЦеныНоменклатуры
		ПО (ЦеныНоменклатуры.Период &lt;= ВидыЦенАссортимента.Дата)
			И (ЦеныНоменклатуры.ВидЦены = ВидыЦенАссортимента.ВидЦен)
			И (ЦеныНоменклатуры.Номенклатура = ВидыЦенАссортимента.Номенклатура)
			И (ЦеныНоменклатуры.Характеристика = ВидыЦенАссортимента.Характеристика)

СГРУППИРОВАТЬ ПО
	ВидыЦенАссортимента.Номенклатура,
	ВидыЦенАссортимента.Характеристика,
	ВидыЦенАссортимента.Дата,
	ВидыЦенАссортимента.Магазин,
	ВидыЦенАссортимента.ВидЦен
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	ПериодыЦенПоАссортименту.Магазин КАК Магазин,
	ПериодыЦенПоАссортименту.Номенклатура КАК Номенклатура,
	ПериодыЦенПоАссортименту.Характеристика КАК Характеристика,
	ПериодыЦенПоАссортименту.Дата КАК Дата,
	ВЫБОР
		КОГДА ЕСТЬNULL(ЦеныНоменклатуры.Упаковка.Коэффициент, 0) = 0
			ТОГДА ЦеныНоменклатуры.Цена
		ИНАЧЕ ВЫРАЗИТЬ(ЦеныНоменклатуры.Цена / ЦеныНоменклатуры.Упаковка.Коэффициент КАК ЧИСЛО(15, 2))
	КОНЕЦ КАК Цена
ПОМЕСТИТЬ втЦеныАссортиментные
ИЗ
	втПериодыЦенПоАссортименту КАК ПериодыЦенПоАссортименту
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ РегистрСведений.ЦеныНоменклатуры КАК ЦеныНоменклатуры
		ПО (ЦеныНоменклатуры.Период = ПериодыЦенПоАссортименту.ДатаЦены)
			И (ЦеныНоменклатуры.ВидЦены = ПериодыЦенПоАссортименту.ВидЦен)
			И (ЦеныНоменклатуры.Номенклатура = ПериодыЦенПоАссортименту.Номенклатура)
			И (ЦеныНоменклатуры.Характеристика = ПериодыЦенПоАссортименту.Характеристика)
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ТаблицаТовары.Номенклатура КАК Номенклатура,
	ТаблицаТовары.Характеристика КАК Характеристика,
	ТаблицаТовары.Магазин КАК Магазин,
	ТаблицаТовары.Период КАК Дата,
	ЕСТЬNULL(ПравилаОбычныхМагазинов.ВидЦены, МагазиныОбычные.ВидЦены) КАК ВидЦены
ПОМЕСТИТЬ втВидыЦенПоПравилам
ИЗ
	СписаниеИзРегистра КАК ТаблицаТовары
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ втМагазиныОбычные КАК МагазиныОбычные
		ПО (МагазиныОбычные.Магазин = ТаблицаТовары.Магазин)
		ЛЕВОЕ СОЕДИНЕНИЕ втПравилаОбычныхМагазинов КАК ПравилаОбычныхМагазинов
		ПО (ПравилаОбычныхМагазинов.Магазин = ТаблицаТовары.Магазин)
			И (ПравилаОбычныхМагазинов.ЦеноваяГруппа = ТаблицаТовары.Номенклатура.ЦеноваяГруппа)

СГРУППИРОВАТЬ ПО
	ТаблицаТовары.Номенклатура,
	ТаблицаТовары.Характеристика,
	ТаблицаТовары.Магазин,
	ТаблицаТовары.Период,
	ЕСТЬNULL(ПравилаОбычныхМагазинов.ВидЦены, МагазиныОбычные.ВидЦены)
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	ВидыЦенПоПравилам.Номенклатура КАК Номенклатура,
	ВидыЦенПоПравилам.Характеристика КАК Характеристика,
	ВидыЦенПоПравилам.Дата КАК Дата,
	ВидыЦенПоПравилам.Магазин КАК Магазин,
	ВидыЦенПоПравилам.ВидЦены КАК ВидЦены,
	МАКСИМУМ(ЦеныНоменклатуры.Период) КАК ДатаЦены
ПОМЕСТИТЬ втПериодыЦенПоПравилам
ИЗ
	втВидыЦенПоПравилам КАК ВидыЦенПоПравилам
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ РегистрСведений.ЦеныНоменклатуры КАК ЦеныНоменклатуры
		ПО (ЦеныНоменклатуры.Период &lt;= ВидыЦенПоПравилам.Дата)
			И (ЦеныНоменклатуры.ВидЦены = ВидыЦенПоПравилам.ВидЦены)
			И (ЦеныНоменклатуры.Номенклатура = ВидыЦенПоПравилам.Номенклатура)
			И (ЦеныНоменклатуры.Характеристика = ВидыЦенПоПравилам.Характеристика)

СГРУППИРОВАТЬ ПО
	ВидыЦенПоПравилам.Номенклатура,
	ВидыЦенПоПравилам.Характеристика,
	ВидыЦенПоПравилам.Дата,
	ВидыЦенПоПравилам.Магазин,
	ВидыЦенПоПравилам.ВидЦены
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	ПериодыЦенПоПравилам.Магазин КАК Магазин,
	ПериодыЦенПоПравилам.Номенклатура КАК Номенклатура,
	ПериодыЦенПоПравилам.Характеристика КАК Характеристика,
	ПериодыЦенПоПравилам.Дата КАК Дата,
	ВЫБОР
		КОГДА ЕСТЬNULL(ЦеныНоменклатуры.Упаковка.Коэффициент, 0) = 0
			ТОГДА ЦеныНоменклатуры.Цена
		ИНАЧЕ ВЫРАЗИТЬ(ЦеныНоменклатуры.Цена / ЦеныНоменклатуры.Упаковка.Коэффициент КАК ЧИСЛО(15, 2))
	КОНЕЦ КАК Цена
ПОМЕСТИТЬ втЦеныПравильные
ИЗ
	втПериодыЦенПоПравилам КАК ПериодыЦенПоПравилам
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ РегистрСведений.ЦеныНоменклатуры КАК ЦеныНоменклатуры
		ПО (ЦеныНоменклатуры.Период = ПериодыЦенПоПравилам.ДатаЦены)
			И (ЦеныНоменклатуры.ВидЦены = ПериодыЦенПоПравилам.ВидЦены)
			И (ЦеныНоменклатуры.Номенклатура = ПериодыЦенПоПравилам.Номенклатура)
			И (ЦеныНоменклатуры.Характеристика = ПериодыЦенПоПравилам.Характеристика)
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	СписаниеИзРегистра.Магазин КАК Магазин,
	СписаниеИзРегистра.АналитикаХозяйственнойОперации КАК АналитикаХозяйственнойОперации,
	СписаниеИзРегистра.Номенклатура КАК Номенклатура,
	СписаниеИзРегистра.Характеристика КАК Характеристика,
	СписаниеИзРегистра.Количество КАК Количество,
	ВЫБОР
		КОГДА НЕ ЦеныДействующие.Цена ЕСТЬ NULL 
			ТОГДА ЦеныДействующие.Цена * СписаниеИзРегистра.Количество
		КОГДА НЕ ЦеныАссортиментные.Цена ЕСТЬ NULL 
			ТОГДА ЦеныАссортиментные.Цена * СписаниеИзРегистра.Количество
		ИНАЧЕ ЕСТЬNULL(ЦеныПравильные.Цена, 0) * СписаниеИзРегистра.Количество
	КОНЕЦ КАК СуммаВРозничныхЦенах,
	"ТоварнаяГруппа" КАК ИдентификаторОтчета
ПОМЕСТИТЬ СуммаЦенРозничных
ИЗ
	СписаниеИзРегистра КАК СписаниеИзРегистра
		ЛЕВОЕ СОЕДИНЕНИЕ втЦеныДействующие КАК ЦеныДействующие
		ПО (ЦеныДействующие.Номенклатура = СписаниеИзРегистра.Номенклатура)
			И (ЦеныДействующие.Характеристика = СписаниеИзРегистра.Характеристика)
			И (ЦеныДействующие.Дата = СписаниеИзРегистра.Период)
			И (ЦеныДействующие.Магазин = СписаниеИзРегистра.Магазин)
		ЛЕВОЕ СОЕДИНЕНИЕ втЦеныАссортиментные КАК ЦеныАссортиментные
		ПО (ЦеныАссортиментные.Номенклатура = СписаниеИзРегистра.Номенклатура)
			И (ЦеныАссортиментные.Характеристика = СписаниеИзРегистра.Характеристика)
			И (ЦеныАссортиментные.Дата = СписаниеИзРегистра.Период)
			И (ЦеныАссортиментные.Магазин = СписаниеИзРегистра.Магазин)
		ЛЕВОЕ СОЕДИНЕНИЕ втЦеныПравильные КАК ЦеныПравильные
		ПО (ЦеныПравильные.Номенклатура = СписаниеИзРегистра.Номенклатура)
			И (ЦеныПравильные.Характеристика = СписаниеИзРегистра.Характеристика)
			И (ЦеныПравильные.Дата = СписаниеИзРегистра.Период)
			И (ЦеныПравильные.Магазин = СписаниеИзРегистра.Магазин)
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	ВложенныйЗапрос.Магазин,
	ВложенныйЗапрос.Номенклатура,
	ВложенныйЗапрос.Характеристика,
	ВложенныйЗапрос.АналитикаХозяйственнойОперации,
	СУММА(ВложенныйЗапрос.СебестоимостьСписания) КАК СебестоимостьСписания,
	СУММА(ВложенныйЗапрос.Количество) КАК Количество,
	СУММА(ВложенныйЗапрос.СуммаВРозничныхЦенах) КАК СуммаВРозничныхЦенах,
	ВложенныйЗапрос.Номенклатура.ТоварнаяГруппа КАК ТоварнаяГруппа,
	"Детально" КАК ИдентификаторОтчета
ИЗ
	(ВЫБРАТЬ
		СписаниеТоваров.Магазин КАК Магазин,
		СписаниеТоваров.Номенклатура КАК Номенклатура,
		СписаниеТоваров.Характеристика КАК Характеристика,
		СписаниеТоваров.АналитикаХозяйственнойОперации КАК АналитикаХозяйственнойОперации,
		СписаниеТоваров.СебестоимостьСписания КАК СебестоимостьСписания,
		СписаниеТоваров.Количество КАК Количество,
		0 КАК СуммаВРозничныхЦенах
	ИЗ
		СписаниеТоваров КАК СписаниеТоваров
	
	ОБЪЕДИНИТЬ ВСЕ
	
	ВЫБРАТЬ
		СуммаЦенРозничных.Магазин,
		СуммаЦенРозничных.Номенклатура,
		СуммаЦенРозничных.Характеристика,
		СуммаЦенРозничных.АналитикаХозяйственнойОперации,
		0,
		0,
		СуммаЦенРозничных.СуммаВРозничныхЦенах
	ИЗ
		СуммаЦенРозничных КАК СуммаЦенРозничных) КАК ВложенныйЗапрос

СГРУППИРОВАТЬ ПО
	ВложенныйЗапрос.АналитикаХозяйственнойОперации,
	ВложенныйЗапрос.Магазин,
	ВложенныйЗапрос.Номенклатура,
	ВложенныйЗапрос.Характеристика,
	ВложенныйЗапрос.Номенклатура.ТоварнаяГруппа</query>
		</item>
		<item xsi:type="DataSetQuery">
			<name>ПричиныСписанияПоТоварнымКатегориям</name>
			<field xsi:type="DataSetFieldField">
				<dataPath>АналитикаХозяйственнойОперации</dataPath>
				<field>АналитикаХозяйственнойОперации</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ВаловаяПрибыль</dataPath>
				<field>ВаловаяПрибыль</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ДокументПродажи</dataPath>
				<field>ДокументПродажи</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ИдентификаторОтчета</dataPath>
				<field>ИдентификаторОтчета</field>
				<valueType>
					<v8:Type>xs:string</v8:Type>
					<v8:StringQualifiers>
						<v8:Length>0</v8:Length>
						<v8:AllowedLength>Variable</v8:AllowedLength>
					</v8:StringQualifiers>
				</valueType>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Количество</dataPath>
				<field>Количество</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>КоличествоПродаж</dataPath>
				<field>КоличествоПродаж</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Магазин</dataPath>
				<field>Магазин</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Номенклатура</dataPath>
				<field>Номенклатура</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Организация</dataPath>
				<field>Организация</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Продавец</dataPath>
				<field>Продавец</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>СебестоимостьСписания</dataPath>
				<field>СебестоимостьСписания</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Склад</dataPath>
				<field>Склад</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>СуммаПродаж</dataPath>
				<field>СуммаПродаж</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>СуммаСписания</dataPath>
				<field>СуммаСписания</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Характеристика</dataPath>
				<field>Характеристика</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>Марка</dataPath>
				<field>Марка</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ТоварнаяКатегория</dataPath>
				<field>ТоварнаяКатегория</field>
			</field>
			<field xsi:type="DataSetFieldField">
				<dataPath>ЗаказПокупателя</dataPath>
				<field>ЗаказПокупателя</field>
			</field>
			<dataSource>ИсточникДанных1</dataSource>
			<query>ВЫБРАТЬ РАЗРЕШЕННЫЕ
	ВложенныйЗапрос.Магазин,
	ВложенныйЗапрос.Номенклатура,
	ВложенныйЗапрос.Характеристика,
	ВложенныйЗапрос.Количество,
	ВложенныйЗапрос.АналитикаХозяйственнойОперации,
	ВложенныйЗапрос.Период,
	"ТоварнаяКатегория" КАК ИдентификаторОтчета
ПОМЕСТИТЬ СписаниеИзРегистра
ИЗ
	(ВЫБРАТЬ
		ТоварыНаСкладах.Склад.Магазин КАК Магазин,
		ТоварыНаСкладах.Номенклатура КАК Номенклатура,
		ТоварыНаСкладах.Характеристика КАК Характеристика,
		СУММА(ВЫБОР
				КОГДА ТоварыНаСкладах.ВидДвижения = ЗНАЧЕНИЕ(ВидДвиженияНакопления.Расход)
					ТОГДА ТоварыНаСкладах.Количество
				ИНАЧЕ -ТоварыНаСкладах.Количество
			КОНЕЦ) КАК Количество,
		ТоварыНаСкладах.АналитикаХозяйственнойОперации КАК АналитикаХозяйственнойОперации,
		ТоварыНаСкладах.Период КАК Период
	ИЗ
		РегистрНакопления.ТоварыНаСкладах КАК ТоварыНаСкладах
	ГДЕ
		(ТоварыНаСкладах.АналитикаХозяйственнойОперации.ХозяйственнаяОперация = ЗНАЧЕНИЕ(Перечисление.ХозяйственныеОперации.СписаниеНаЗатраты)
				ИЛИ ТоварыНаСкладах.АналитикаХозяйственнойОперации.ХозяйственнаяОперация = ЗНАЧЕНИЕ(Перечисление.ХозяйственныеОперации.СписаниеПоИнвентаризации))
		И ТоварыНаСкладах.Период &gt;= &amp;НачалоПериода
		И (ТоварыНаСкладах.Период &lt;= &amp;КонецПериода
				ИЛИ &amp;КонецПериода = ДАТАВРЕМЯ(1, 1, 1, 0, 0, 0))
		И НЕ ТоварыНаСкладах.Количество = 0
	
	СГРУППИРОВАТЬ ПО
		ТоварыНаСкладах.Номенклатура,
		ТоварыНаСкладах.Склад.Магазин,
		ТоварыНаСкладах.АналитикаХозяйственнойОперации,
		ТоварыНаСкладах.Характеристика,
		ТоварыНаСкладах.Период) КАК ВложенныйЗапрос
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	СписанияиМаксимумыСебестоимости.Магазин,
	СписанияиМаксимумыСебестоимости.Номенклатура,
	СписанияиМаксимумыСебестоимости.Характеристика,
	СписанияиМаксимумыСебестоимости.АналитикаХозяйственнойОперации,
	СУММА(ВЫБОР
			КОГДА СписанияиМаксимумыСебестоимости.Номенклатура.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Услуга)
				ТОГДА 0
			ИНАЧЕ ЕСТЬNULL(СебестоимостьНоменклатуры.Цена, 0)
		КОНЕЦ * СписанияиМаксимумыСебестоимости.Количество) КАК СебестоимостьСписания,
	СУММА(СписанияиМаксимумыСебестоимости.Количество) КАК Количество,
	"ТоварнаяКатегория" КАК ИдентификаторОтчета
ПОМЕСТИТЬ СписаниеТоваров
ИЗ
	СписаниеИзРегистра КАК СписанияиМаксимумыСебестоимости
			ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.СебестоимостьНоменклатуры КАК СебестоимостьНоменклатуры
			ПО (СписанияиМаксимумыСебестоимости.Номенклатура = СебестоимостьНоменклатуры.Номенклатура
				И СписанияиМаксимумыСебестоимости.Характеристика = СебестоимостьНоменклатуры.Характеристика
				И СебестоимостьНоменклатуры.Регистратор В
					(ВЫБРАТЬ ПЕРВЫЕ 1
						Себестоимость.Регистратор
					ИЗ
						РегистрСведений.СебестоимостьНоменклатуры КАК Себестоимость
					ГДЕ
						(Себестоимость.Магазин = СписанияиМаксимумыСебестоимости.Магазин
							ИЛИ Себестоимость.Магазин = ЗНАЧЕНИЕ(Справочник.Магазины.ПустаяСсылка))
						И Себестоимость.Номенклатура = СписанияиМаксимумыСебестоимости.Номенклатура
						И Себестоимость.Характеристика = СписанияиМаксимумыСебестоимости.Характеристика
						И Себестоимость.Период &lt;= СписанияиМаксимумыСебестоимости.Период
					УПОРЯДОЧИТЬ ПО
						Себестоимость.Период УБЫВ,
						Себестоимость.Регистратор УБЫВ,
						ВЫБОР
							КОГДА Себестоимость.Магазин = ЗНАЧЕНИЕ(Справочник.Магазины.ПустаяСсылка)
								ТОГДА 0
							ИНАЧЕ 1
						КОНЕЦ)
				И СебестоимостьНоменклатуры.Магазин В
					(ВЫБРАТЬ ПЕРВЫЕ 1
						Себестоимость.Магазин
					ИЗ
						РегистрСведений.СебестоимостьНоменклатуры КАК Себестоимость
					ГДЕ
						(Себестоимость.Магазин = СписанияиМаксимумыСебестоимости.Магазин
							ИЛИ Себестоимость.Магазин = ЗНАЧЕНИЕ(Справочник.Магазины.ПустаяСсылка))
						И Себестоимость.Номенклатура = СписанияиМаксимумыСебестоимости.Номенклатура
						И Себестоимость.Характеристика = СписанияиМаксимумыСебестоимости.Характеристика
						И Себестоимость.Период &lt;= СписанияиМаксимумыСебестоимости.Период
					УПОРЯДОЧИТЬ ПО
						Себестоимость.Период УБЫВ,
						Себестоимость.Регистратор УБЫВ,
						ВЫБОР
							КОГДА Себестоимость.Магазин = ЗНАЧЕНИЕ(Справочник.Магазины.ПустаяСсылка)
								ТОГДА 0
							ИНАЧЕ 1
						КОНЕЦ))
СГРУППИРОВАТЬ ПО
	СписанияиМаксимумыСебестоимости.Магазин,
	СписанияиМаксимумыСебестоимости.Номенклатура,
	СписанияиМаксимумыСебестоимости.Характеристика,
	СписанияиМаксимумыСебестоимости.АналитикаХозяйственнойОперации
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	Магазины.Ссылка КАК Магазин
ПОМЕСТИТЬ втМагазиныСПрименениемЦен
ИЗ
	Справочник.Магазины КАК Магазины
ГДЕ
	&amp;ИспользоватьПрименениеЦен
	И Магазины.ИспользоватьПрименениеЦен
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	Магазины.Ссылка КАК Магазин,
	Магазины.ФорматМагазина КАК ФорматМагазина
ПОМЕСТИТЬ втМагазиныСАссортиментом
ИЗ
	Справочник.Магазины КАК Магазины
ГДЕ
	Магазины.КонтролироватьАссортимент
	И &amp;ИспользоватьАссортимент
	И НЕ(&amp;ИспользоватьПрименениеЦен
				И Магазины.ИспользоватьПрименениеЦен)
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	Магазины.Ссылка КАК Магазин,
	Магазины.ПравилоЦенообразования КАК ПравилоЦенообразования,
	Магазины.ПравилоЦенообразования.ВидЦен КАК ВидЦены
ПОМЕСТИТЬ втМагазиныОбычные
ИЗ
	Справочник.Магазины КАК Магазины
ГДЕ
	(НЕ Магазины.КонтролироватьАссортимент
	ИЛИ НЕ &amp;ИспользоватьАссортимент)
	И НЕ(&amp;ИспользоватьПрименениеЦен
				И Магазины.ИспользоватьПрименениеЦен)
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	МагазиныОбычные.Магазин КАК Магазин,
	ПравилаЦенообразованияЦеновыеГруппы.ЦеноваяГруппа КАК ЦеноваяГруппа,
	ПравилаЦенообразованияЦеновыеГруппы.ВидЦен КАК ВидЦены
ПОМЕСТИТЬ втПравилаОбычныхМагазинов
ИЗ
	Справочник.ПравилаЦенообразования.ЦеновыеГруппы КАК ПравилаЦенообразованияЦеновыеГруппы
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ втМагазиныОбычные КАК МагазиныОбычные
		ПО (МагазиныОбычные.ПравилоЦенообразования = ПравилаЦенообразованияЦеновыеГруппы.Ссылка)
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	ТаблицаТовары.Номенклатура КАК Номенклатура,
	ТаблицаТовары.Характеристика КАК Характеристика,
	ТаблицаТовары.Магазин КАК Магазин,
	МАКСИМУМ(ДействующиеЦены.Период) КАК ДатаЦены,
	ТаблицаТовары.Период КАК Дата
ПОМЕСТИТЬ втТоварыСПериодамиДействующихЦен
ИЗ
	СписаниеИзРегистра КАК ТаблицаТовары
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ втМагазиныСПрименениемЦен КАК МагазиныСПрименениемЦен
		ПО (МагазиныСПрименениемЦен.Магазин = ТаблицаТовары.Магазин)
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ РегистрСведений.ДействующиеЦеныНоменклатуры КАК ДействующиеЦены
		ПО (ДействующиеЦены.ОбъектЦенообразования = ТаблицаТовары.Магазин)
			И (ДействующиеЦены.Период &lt;= ТаблицаТовары.Период)
			И (ДействующиеЦены.Номенклатура = ТаблицаТовары.Номенклатура)
			И (ДействующиеЦены.Характеристика = ТаблицаТовары.Характеристика)

СГРУППИРОВАТЬ ПО
	ТаблицаТовары.Номенклатура,
	ТаблицаТовары.Характеристика,
	ТаблицаТовары.Магазин,
	ТаблицаТовары.Период
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	ТоварыСПериодамиДействующихЦен.Магазин КАК Магазин,
	ТоварыСПериодамиДействующихЦен.Номенклатура КАК Номенклатура,
	ТоварыСПериодамиДействующихЦен.Характеристика КАК Характеристика,
	ТоварыСПериодамиДействующихЦен.Дата КАК Дата,
	ВЫБОР
		КОГДА ЕСТЬNULL(ДействующиеЦены.Упаковка.Коэффициент, 0) = 0
			ТОГДА ДействующиеЦены.Цена
		ИНАЧЕ ВЫРАЗИТЬ(ДействующиеЦены.Цена / ДействующиеЦены.Упаковка.Коэффициент КАК ЧИСЛО(15, 2))
	КОНЕЦ КАК Цена
ПОМЕСТИТЬ втЦеныДействующие
ИЗ
	втТоварыСПериодамиДействующихЦен КАК ТоварыСПериодамиДействующихЦен
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ РегистрСведений.ДействующиеЦеныНоменклатуры КАК ДействующиеЦены
		ПО (ДействующиеЦены.ОбъектЦенообразования = ТоварыСПериодамиДействующихЦен.Магазин)
			И (ДействующиеЦены.Период = ТоварыСПериодамиДействующихЦен.ДатаЦены)
			И (ДействующиеЦены.Номенклатура = ТоварыСПериодамиДействующихЦен.Номенклатура)
			И (ДействующиеЦены.Характеристика = ТоварыСПериодамиДействующихЦен.Характеристика)
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	ТаблицаТовары.Номенклатура КАК Номенклатура,
	ТаблицаТовары.Характеристика КАК Характеристика,
	ТаблицаТовары.Магазин.ФорматМагазина КАК ФорматМагазина,
	ТаблицаТовары.Магазин КАК Магазин,
	ТаблицаТовары.Период КАК Дата,
	МАКСИМУМ(Ассортимент.Период) КАК ДатаАссортимента
ПОМЕСТИТЬ втТоварыСПериодамиАссортимента
ИЗ
	СписаниеИзРегистра КАК ТаблицаТовары
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ втМагазиныСАссортиментом КАК МагазиныСАссортиментом
		ПО (МагазиныСАссортиментом.Магазин = ТаблицаТовары.Магазин)
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ РегистрСведений.Ассортимент КАК Ассортимент
		ПО (Ассортимент.ОбъектПланирования = ТаблицаТовары.Магазин.ФорматМагазина)
			И (Ассортимент.Период &lt;= КОНЕЦПЕРИОДА(ТаблицаТовары.Период, ДЕНЬ))
			И (Ассортимент.Номенклатура = ТаблицаТовары.Номенклатура)

СГРУППИРОВАТЬ ПО
	ТаблицаТовары.Номенклатура,
	ТаблицаТовары.Характеристика,
	ТаблицаТовары.Магазин.ФорматМагазина,
	ТаблицаТовары.Магазин,
	ТаблицаТовары.Период
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	ТоварыСПериодамиАссортимента.Номенклатура КАК Номенклатура,
	ТоварыСПериодамиАссортимента.Характеристика КАК Характеристика,
	ТоварыСПериодамиАссортимента.ФорматМагазина КАК ФорматМагазина,
	ТоварыСПериодамиАссортимента.Магазин КАК Магазин,
	ТоварыСПериодамиАссортимента.Дата КАК Дата,
	Ассортимент.ВидЦен КАК ВидЦен
ПОМЕСТИТЬ втВидыЦенАссортимента
ИЗ
	втТоварыСПериодамиАссортимента КАК ТоварыСПериодамиАссортимента
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ РегистрСведений.Ассортимент КАК Ассортимент
		ПО (Ассортимент.ОбъектПланирования = ТоварыСПериодамиАссортимента.ФорматМагазина)
			И (Ассортимент.Период = ТоварыСПериодамиАссортимента.ДатаАссортимента)
			И (Ассортимент.Номенклатура = ТоварыСПериодамиАссортимента.Номенклатура)
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	ВидыЦенАссортимента.Номенклатура КАК Номенклатура,
	ВидыЦенАссортимента.Характеристика КАК Характеристика,
	ВидыЦенАссортимента.Дата КАК Дата,
	ВидыЦенАссортимента.Магазин КАК Магазин,
	ВидыЦенАссортимента.ВидЦен КАК ВидЦен,
	МАКСИМУМ(ЦеныНоменклатуры.Период) КАК ДатаЦены
ПОМЕСТИТЬ втПериодыЦенПоАссортименту
ИЗ
	втВидыЦенАссортимента КАК ВидыЦенАссортимента
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ РегистрСведений.ЦеныНоменклатуры КАК ЦеныНоменклатуры
		ПО (ЦеныНоменклатуры.Период &lt;= ВидыЦенАссортимента.Дата)
			И (ЦеныНоменклатуры.ВидЦены = ВидыЦенАссортимента.ВидЦен)
			И (ЦеныНоменклатуры.Номенклатура = ВидыЦенАссортимента.Номенклатура)
			И (ЦеныНоменклатуры.Характеристика = ВидыЦенАссортимента.Характеристика)

СГРУППИРОВАТЬ ПО
	ВидыЦенАссортимента.Номенклатура,
	ВидыЦенАссортимента.Характеристика,
	ВидыЦенАссортимента.Дата,
	ВидыЦенАссортимента.Магазин,
	ВидыЦенАссортимента.ВидЦен
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	ПериодыЦенПоАссортименту.Магазин КАК Магазин,
	ПериодыЦенПоАссортименту.Номенклатура КАК Номенклатура,
	ПериодыЦенПоАссортименту.Характеристика КАК Характеристика,
	ПериодыЦенПоАссортименту.Дата КАК Дата,
	ВЫБОР
		КОГДА ЕСТЬNULL(ЦеныНоменклатуры.Упаковка.Коэффициент, 0) = 0
			ТОГДА ЦеныНоменклатуры.Цена
		ИНАЧЕ ВЫРАЗИТЬ(ЦеныНоменклатуры.Цена / ЦеныНоменклатуры.Упаковка.Коэффициент КАК ЧИСЛО(15, 2))
	КОНЕЦ КАК Цена
ПОМЕСТИТЬ втЦеныАссортиментные
ИЗ
	втПериодыЦенПоАссортименту КАК ПериодыЦенПоАссортименту
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ РегистрСведений.ЦеныНоменклатуры КАК ЦеныНоменклатуры
		ПО (ЦеныНоменклатуры.Период = ПериодыЦенПоАссортименту.ДатаЦены)
			И (ЦеныНоменклатуры.ВидЦены = ПериодыЦенПоАссортименту.ВидЦен)
			И (ЦеныНоменклатуры.Номенклатура = ПериодыЦенПоАссортименту.Номенклатура)
			И (ЦеныНоменклатуры.Характеристика = ПериодыЦенПоАссортименту.Характеристика)
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ТаблицаТовары.Номенклатура КАК Номенклатура,
	ТаблицаТовары.Характеристика КАК Характеристика,
	ТаблицаТовары.Магазин КАК Магазин,
	ТаблицаТовары.Период КАК Дата,
	ЕСТЬNULL(ПравилаОбычныхМагазинов.ВидЦены, МагазиныОбычные.ВидЦены) КАК ВидЦены
ПОМЕСТИТЬ втВидыЦенПоПравилам
ИЗ
	СписаниеИзРегистра КАК ТаблицаТовары
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ втМагазиныОбычные КАК МагазиныОбычные
		ПО (МагазиныОбычные.Магазин = ТаблицаТовары.Магазин)
		ЛЕВОЕ СОЕДИНЕНИЕ втПравилаОбычныхМагазинов КАК ПравилаОбычныхМагазинов
		ПО (ПравилаОбычныхМагазинов.Магазин = ТаблицаТовары.Магазин)
			И (ПравилаОбычныхМагазинов.ЦеноваяГруппа = ТаблицаТовары.Номенклатура.ЦеноваяГруппа)

СГРУППИРОВАТЬ ПО
	ТаблицаТовары.Номенклатура,
	ТаблицаТовары.Характеристика,
	ТаблицаТовары.Магазин,
	ТаблицаТовары.Период,
	ЕСТЬNULL(ПравилаОбычныхМагазинов.ВидЦены, МагазиныОбычные.ВидЦены)
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	ВидыЦенПоПравилам.Номенклатура КАК Номенклатура,
	ВидыЦенПоПравилам.Характеристика КАК Характеристика,
	ВидыЦенПоПравилам.Дата КАК Дата,
	ВидыЦенПоПравилам.Магазин КАК Магазин,
	ВидыЦенПоПравилам.ВидЦены КАК ВидЦены,
	МАКСИМУМ(ЦеныНоменклатуры.Период) КАК ДатаЦены
ПОМЕСТИТЬ втПериодыЦенПоПравилам
ИЗ
	втВидыЦенПоПравилам КАК ВидыЦенПоПравилам
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ РегистрСведений.ЦеныНоменклатуры КАК ЦеныНоменклатуры
		ПО (ЦеныНоменклатуры.Период &lt;= ВидыЦенПоПравилам.Дата)
			И (ЦеныНоменклатуры.ВидЦены = ВидыЦенПоПравилам.ВидЦены)
			И (ЦеныНоменклатуры.Номенклатура = ВидыЦенПоПравилам.Номенклатура)
			И (ЦеныНоменклатуры.Характеристика = ВидыЦенПоПравилам.Характеристика)

СГРУППИРОВАТЬ ПО
	ВидыЦенПоПравилам.Номенклатура,
	ВидыЦенПоПравилам.Характеристика,
	ВидыЦенПоПравилам.Дата,
	ВидыЦенПоПравилам.Магазин,
	ВидыЦенПоПравилам.ВидЦены
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	ПериодыЦенПоПравилам.Магазин КАК Магазин,
	ПериодыЦенПоПравилам.Номенклатура КАК Номенклатура,
	ПериодыЦенПоПравилам.Характеристика КАК Характеристика,
	ПериодыЦенПоПравилам.Дата КАК Дата,
	ВЫБОР
		КОГДА ЕСТЬNULL(ЦеныНоменклатуры.Упаковка.Коэффициент, 0) = 0
			ТОГДА ЦеныНоменклатуры.Цена
		ИНАЧЕ ВЫРАЗИТЬ(ЦеныНоменклатуры.Цена / ЦеныНоменклатуры.Упаковка.Коэффициент КАК ЧИСЛО(15, 2))
	КОНЕЦ КАК Цена
ПОМЕСТИТЬ втЦеныПравильные
ИЗ
	втПериодыЦенПоПравилам КАК ПериодыЦенПоПравилам
		ВНУТРЕННЕЕ СОЕДИНЕНИЕ РегистрСведений.ЦеныНоменклатуры КАК ЦеныНоменклатуры
		ПО (ЦеныНоменклатуры.Период = ПериодыЦенПоПравилам.ДатаЦены)
			И (ЦеныНоменклатуры.ВидЦены = ПериодыЦенПоПравилам.ВидЦены)
			И (ЦеныНоменклатуры.Номенклатура = ПериодыЦенПоПравилам.Номенклатура)
			И (ЦеныНоменклатуры.Характеристика = ПериодыЦенПоПравилам.Характеристика)
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	СписаниеИзРегистра.Магазин КАК Магазин,
	СписаниеИзРегистра.АналитикаХозяйственнойОперации КАК АналитикаХозяйственнойОперации,
	СписаниеИзРегистра.Номенклатура КАК Номенклатура,
	СписаниеИзРегистра.Характеристика КАК Характеристика,
	СписаниеИзРегистра.Количество КАК Количество,
	ВЫБОР
		КОГДА НЕ ЦеныДействующие.Цена ЕСТЬ NULL 
			ТОГДА ЦеныДействующие.Цена * СписаниеИзРегистра.Количество
		КОГДА НЕ ЦеныАссортиментные.Цена ЕСТЬ NULL 
			ТОГДА ЦеныАссортиментные.Цена * СписаниеИзРегистра.Количество
		ИНАЧЕ ЕСТЬNULL(ЦеныПравильные.Цена, 0) * СписаниеИзРегистра.Количество
	КОНЕЦ КАК СуммаВРозничныхЦенах,
	"ТоварнаяКатегория" КАК ИдентификаторОтчета
ПОМЕСТИТЬ СуммаЦенРозничных
ИЗ
	СписаниеИзРегистра КАК СписаниеИзРегистра
		ЛЕВОЕ СОЕДИНЕНИЕ втЦеныДействующие КАК ЦеныДействующие
		ПО (ЦеныДействующие.Номенклатура = СписаниеИзРегистра.Номенклатура)
			И (ЦеныДействующие.Характеристика = СписаниеИзРегистра.Характеристика)
			И (ЦеныДействующие.Дата = СписаниеИзРегистра.Период)
			И (ЦеныДействующие.Магазин = СписаниеИзРегистра.Магазин)
		ЛЕВОЕ СОЕДИНЕНИЕ втЦеныАссортиментные КАК ЦеныАссортиментные
		ПО (ЦеныАссортиментные.Номенклатура = СписаниеИзРегистра.Номенклатура)
			И (ЦеныАссортиментные.Характеристика = СписаниеИзРегистра.Характеристика)
			И (ЦеныАссортиментные.Дата = СписаниеИзРегистра.Период)
			И (ЦеныАссортиментные.Магазин = СписаниеИзРегистра.Магазин)
		ЛЕВОЕ СОЕДИНЕНИЕ втЦеныПравильные КАК ЦеныПравильные
		ПО (ЦеныПравильные.Номенклатура = СписаниеИзРегистра.Номенклатура)
			И (ЦеныПравильные.Характеристика = СписаниеИзРегистра.Характеристика)
			И (ЦеныПравильные.Дата = СписаниеИзРегистра.Период)
			И (ЦеныПравильные.Магазин = СписаниеИзРегистра.Магазин)
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	ВложенныйЗапрос.Номенклатура.ТоварнаяКатегория КАК ТоварнаяКатегория,
	ВложенныйЗапрос.Номенклатура.Марка КАК Марка,
	ВложенныйЗапрос.АналитикаХозяйственнойОперации,
	СУММА(ВложенныйЗапрос.СебестоимостьСписания) КАК СебестоимостьСписания,
	СУММА(ВложенныйЗапрос.Количество) КАК Количество,
	СУММА(ВложенныйЗапрос.СуммаВРозничныхЦенах) КАК СуммаВРозничныхЦенах,
	"ТоварнаяКатегория" КАК ИдентификаторОтчета
ПОМЕСТИТЬ СписаниеТоваровОбщее
ИЗ
	(ВЫБРАТЬ
		СписаниеТоваров.Магазин КАК Магазин,
		СписаниеТоваров.Номенклатура КАК Номенклатура,
		СписаниеТоваров.Характеристика КАК Характеристика,
		СписаниеТоваров.АналитикаХозяйственнойОперации КАК АналитикаХозяйственнойОперации,
		СписаниеТоваров.СебестоимостьСписания КАК СебестоимостьСписания,
		СписаниеТоваров.Количество КАК Количество,
		0 КАК СуммаВРозничныхЦенах
	ИЗ
		СписаниеТоваров КАК СписаниеТоваров
	
	ОБЪЕДИНИТЬ ВСЕ
	
	ВЫБРАТЬ
		СуммаЦенРозничных.Магазин,
		СуммаЦенРозничных.Номенклатура,
		СуммаЦенРозничных.Характеристика,
		СуммаЦенРозничных.АналитикаХозяйственнойОперации,
		0,
		0,
		СуммаЦенРозничных.СуммаВРозничныхЦенах
	ИЗ
		СуммаЦенРозничных КАК СуммаЦенРозничных) КАК ВложенныйЗапрос

СГРУППИРОВАТЬ ПО
	ВложенныйЗапрос.АналитикаХозяйственнойОперации,
	ВложенныйЗапрос.Номенклатура.ТоварнаяКатегория,
	ВложенныйЗапрос.Номенклатура.Марка
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ПродажиОборотыСМагазином.Номенклатура КАК Номенклатура,
	ПродажиОборотыСМагазином.Характеристика КАК Характеристика,
	ПродажиОборотыСМагазином.КоличествоОборот КАК КоличествоОборот,
	ВЫБОР
		КОГДА Константы.СебестоимостьВключаетНДС
				ИЛИ НЕ Константы.ИспользоватьУчетСебестоимости
			ТОГДА ПродажиОборотыСМагазином.СтоимостьОборот
		ИНАЧЕ ПродажиОборотыСМагазином.СтоимостьОборот - ПродажиОборотыСМагазином.НДСОборот
	КОНЕЦ КАК СтоимостьОборот,
	ПродажиОборотыСМагазином.Период КАК Период,
	ПродажиОборотыСМагазином.Регистратор КАК Регистратор,
	ПродажиОборотыСМагазином.Склад.Магазин КАК Магазин,
	Константы.СебестоимостьВключаетНДС КАК СебестоимостьВключаетНДС,
	ПродажиОборотыСМагазином.СтоимостьБезСкидокОборот - ПродажиОборотыСМагазином.СтоимостьОборот КАК СуммаСкидки
ПОМЕСТИТЬ ПродажиОбороты
ИЗ
	РегистрНакопления.Продажи.Обороты(&amp;НачалоПериода, &amp;КонецПериода, Регистратор, {(Склад).* КАК Склад, (Номенклатура).* КАК Номенклатура, (Продавец).* КАК Продавец, (Склад.Магазин).* КАК Магазин, (Склад.Организация).* КАК Организация}) КАК ПродажиОборотыСМагазином,
	Константы КАК Константы
;

////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ РАЗРЕШЕННЫЕ
	ЕСТЬNULL(СписаниеТоваровОбщее.СебестоимостьСписания, 0) КАК СебестоимостьСписания,
	ЕСТЬNULL(СписаниеТоваровОбщее.Количество, 0) КАК Количество,
	ЕСТЬNULL(Продажи.КоличествоОборот, 0) КАК КоличествоПродаж,
	СписаниеТоваровОбщее.АналитикаХозяйственнойОперации,
	ЕСТЬNULL(Продажи.ТоварнаяКатегория, СписаниеТоваровОбщее.ТоварнаяКатегория) КАК ТоварнаяКатегория,
	ЕСТЬNULL(Продажи.Марка, СписаниеТоваровОбщее.Марка) КАК Марка,
	ЕСТЬNULL(СписаниеТоваровОбщее.СуммаВРозничныхЦенах, 0) КАК СуммаСписания,
	ЕСТЬNULL(Продажи.ВаловаяПрибыль, 0) КАК ВаловаяПрибыль,
	ЕСТЬNULL(Продажи.СтоимостьОборот, 0) КАК СуммаПродаж,
	"ТоварнаяКатегория" КАК ИдентификаторОтчета
ИЗ
	СписаниеТоваровОбщее КАК СписаниеТоваровОбщее
		ПОЛНОЕ СОЕДИНЕНИЕ (ВЫБРАТЬ
			ВложенныйЗапрос.Номенклатура.ТоварнаяКатегория КАК ТоварнаяКатегория,
			ВложенныйЗапрос.Номенклатура.Марка КАК Марка,
			СУММА(ВложенныйЗапрос.КоличествоОборот) КАК КоличествоОборот,
			СУММА(ВложенныйЗапрос.СтоимостьОборот) КАК СтоимостьОборот,
			СУММА(ЕСТЬNULL(ВЫБОР
						КОГДА ВложенныйЗапрос.Номенклатура.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Услуга)
							ТОГДА 0
						ИНАЧЕ СебестоимостьНоменклатуры.Цена
					КОНЕЦ, 0) * ВложенныйЗапрос.КоличествоОборот) КАК СебестоимостьПродаж,
			СУММА(ВложенныйЗапрос.СтоимостьОборот - ЕСТЬNULL(ВЫБОР
						КОГДА ВложенныйЗапрос.Номенклатура.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Услуга)
							ТОГДА 0
						ИНАЧЕ СебестоимостьНоменклатуры.Цена
					КОНЕЦ, 0) * ВложенныйЗапрос.КоличествоОборот) КАК ВаловаяПрибыль
		ИЗ
			ПродажиОбороты КАК ВложенныйЗапрос
			ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.СебестоимостьНоменклатуры КАК СебестоимостьНоменклатуры
			ПО (ВложенныйЗапрос.Номенклатура = СебестоимостьНоменклатуры.Номенклатура
			И ВложенныйЗапрос.Характеристика = СебестоимостьНоменклатуры.Характеристика
			И СебестоимостьНоменклатуры.Регистратор В
				(ВЫБРАТЬ ПЕРВЫЕ 1
					Себестоимость.Регистратор
				ИЗ
					РегистрСведений.СебестоимостьНоменклатуры КАК Себестоимость
				ГДЕ
					(Себестоимость.Магазин = ВложенныйЗапрос.Магазин
						ИЛИ Себестоимость.Магазин = ЗНАЧЕНИЕ(Справочник.Магазины.ПустаяСсылка))
					И Себестоимость.Номенклатура = ВложенныйЗапрос.Номенклатура
					И Себестоимость.Характеристика = ВложенныйЗапрос.Характеристика
					И Себестоимость.Период &lt;= ВложенныйЗапрос.Период
				УПОРЯДОЧИТЬ ПО
					Себестоимость.Период УБЫВ,
					Себестоимость.Регистратор УБЫВ,
					ВЫБОР
						КОГДА Себестоимость.Магазин = ЗНАЧЕНИЕ(Справочник.Магазины.ПустаяСсылка)
							ТОГДА 0
						ИНАЧЕ 1
					КОНЕЦ)
			И СебестоимостьНоменклатуры.Магазин В
				(ВЫБРАТЬ ПЕРВЫЕ 1
					Себестоимость.Магазин
				ИЗ
					РегистрСведений.СебестоимостьНоменклатуры КАК Себестоимость
				ГДЕ
					(Себестоимость.Магазин = ВложенныйЗапрос.Магазин
						ИЛИ Себестоимость.Магазин = ЗНАЧЕНИЕ(Справочник.Магазины.ПустаяСсылка))
					И Себестоимость.Номенклатура = ВложенныйЗапрос.Номенклатура
					И Себестоимость.Характеристика = ВложенныйЗапрос.Характеристика
					И Себестоимость.Период &lt;= ВложенныйЗапрос.Период
				УПОРЯДОЧИТЬ ПО
					Себестоимость.Период УБЫВ,
					Себестоимость.Регистратор УБЫВ,
					ВЫБОР
						КОГДА Себестоимость.Магазин = ЗНАЧЕНИЕ(Справочник.Магазины.ПустаяСсылка)
							ТОГДА 0
						ИНАЧЕ 1
					КОНЕЦ))
		ГДЕ
			(ВложенныйЗапрос.КоличествоОборот &lt;&gt; 0
					ИЛИ ВложенныйЗапрос.СтоимостьОборот &lt;&gt; 0)
		
		СГРУППИРОВАТЬ ПО
			ВложенныйЗапрос.Номенклатура.ТоварнаяКатегория,
			ВложенныйЗапрос.Номенклатура.Марка
			) КАК Продажи
		ПО СписаниеТоваровОбщее.ТоварнаяКатегория = Продажи.ТоварнаяКатегория
		И СписаниеТоваровОбщее.Марка = Продажи.Марка
		</query>
		</item>
	</dataSet>
	<calculatedField>
		<dataPath>ДоляСписания</dataPath>
		<expression>ВЫБОР КОГДА Сумма(СуммаПродаж) = 0 ТОГДА 0
ИНАЧЕ 100* СУММА(СуммаСписания)/Сумма(СуммаПродаж)
КОНЕЦ</expression>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>От продаж, %</v8:content>
			</v8:item>
		</title>
		<useRestriction>
			<group>true</group>
		</useRestriction>
		<appearance>
			<dcscor:item xsi:type="dcsset:SettingsParameterValue">
				<dcscor:parameter>Формат</dcscor:parameter>
				<dcscor:value xsi:type="xs:string">ЧЦ=15; ЧДЦ=2</dcscor:value>
			</dcscor:item>
			<dcscor:item xsi:type="dcsset:SettingsParameterValue">
				<dcscor:parameter>МинимальнаяШирина</dcscor:parameter>
				<dcscor:value xsi:type="xs:decimal">10</dcscor:value>
			</dcscor:item>
		</appearance>
		<valueType>
			<v8:Type>xs:decimal</v8:Type>
			<v8:NumberQualifiers>
				<v8:Digits>0</v8:Digits>
				<v8:FractionDigits>0</v8:FractionDigits>
				<v8:AllowedSign>Any</v8:AllowedSign>
			</v8:NumberQualifiers>
		</valueType>
	</calculatedField>
	<calculatedField>
		<dataPath>РасчетСуммыПродаж</dataPath>
		<expression>Максимум(СуммаПродаж)</expression>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Расчет суммы продаж</v8:content>
			</v8:item>
		</title>
		<useRestriction>
			<group>true</group>
		</useRestriction>
		<appearance>
			<dcscor:item xsi:type="dcsset:SettingsParameterValue">
				<dcscor:parameter>Формат</dcscor:parameter>
				<dcscor:value xsi:type="xs:string">ЧЦ=15; ЧДЦ=2</dcscor:value>
			</dcscor:item>
			<dcscor:item xsi:type="dcsset:SettingsParameterValue">
				<dcscor:parameter>МинимальнаяШирина</dcscor:parameter>
				<dcscor:value xsi:type="xs:decimal">10</dcscor:value>
			</dcscor:item>
		</appearance>
		<valueType>
			<v8:Type>xs:decimal</v8:Type>
			<v8:NumberQualifiers>
				<v8:Digits>0</v8:Digits>
				<v8:FractionDigits>0</v8:FractionDigits>
				<v8:AllowedSign>Any</v8:AllowedSign>
			</v8:NumberQualifiers>
		</valueType>
	</calculatedField>
	<calculatedField>
		<dataPath>ДоляСписанияРасчет</dataPath>
		<expression>ВЫБОР КОГДА МАКСИМУМ(СуммаПродаж) = 0 ТОГДА 0
ИНАЧЕ 100* СУММА(СуммаСписания)/МАКСИМУМ(СуммаПродаж)
КОНЕЦ</expression>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Доля списания расчет</v8:content>
			</v8:item>
		</title>
		<useRestriction>
			<group>true</group>
		</useRestriction>
		<appearance>
			<dcscor:item xsi:type="dcsset:SettingsParameterValue">
				<dcscor:parameter>Формат</dcscor:parameter>
				<dcscor:value xsi:type="xs:string">ЧЦ=15; ЧДЦ=2</dcscor:value>
			</dcscor:item>
			<dcscor:item xsi:type="dcsset:SettingsParameterValue">
				<dcscor:parameter>МинимальнаяШирина</dcscor:parameter>
				<dcscor:value xsi:type="xs:decimal">10</dcscor:value>
			</dcscor:item>
		</appearance>
		<valueType>
			<v8:Type>xs:decimal</v8:Type>
			<v8:NumberQualifiers>
				<v8:Digits>0</v8:Digits>
				<v8:FractionDigits>0</v8:FractionDigits>
				<v8:AllowedSign>Any</v8:AllowedSign>
			</v8:NumberQualifiers>
		</valueType>
	</calculatedField>
	<calculatedField>
		<dataPath>РасчетКоличестваПродаж</dataPath>
		<expression>Максимум(КоличествоПродаж)</expression>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Расчет количества продаж</v8:content>
			</v8:item>
		</title>
		<useRestriction>
			<group>true</group>
		</useRestriction>
		<appearance>
			<dcscor:item xsi:type="dcsset:SettingsParameterValue">
				<dcscor:parameter>Формат</dcscor:parameter>
				<dcscor:value xsi:type="xs:string">ЧЦ=15; ЧДЦ=2</dcscor:value>
			</dcscor:item>
			<dcscor:item xsi:type="dcsset:SettingsParameterValue">
				<dcscor:parameter>МинимальнаяШирина</dcscor:parameter>
				<dcscor:value xsi:type="xs:decimal">10</dcscor:value>
			</dcscor:item>
		</appearance>
		<valueType>
			<v8:Type>xs:decimal</v8:Type>
			<v8:NumberQualifiers>
				<v8:Digits>0</v8:Digits>
				<v8:FractionDigits>0</v8:FractionDigits>
				<v8:AllowedSign>Any</v8:AllowedSign>
			</v8:NumberQualifiers>
		</valueType>
	</calculatedField>
	<calculatedField>
		<dataPath>РасчетВаловаяПрибыль</dataPath>
		<expression>Максимум(ВаловаяПрибыль)</expression>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Расчет валовая прибыль</v8:content>
			</v8:item>
		</title>
		<useRestriction>
			<group>true</group>
		</useRestriction>
		<appearance>
			<dcscor:item xsi:type="dcsset:SettingsParameterValue">
				<dcscor:parameter>Формат</dcscor:parameter>
				<dcscor:value xsi:type="xs:string">ЧЦ=15; ЧДЦ=2</dcscor:value>
			</dcscor:item>
			<dcscor:item xsi:type="dcsset:SettingsParameterValue">
				<dcscor:parameter>МинимальнаяШирина</dcscor:parameter>
				<dcscor:value xsi:type="xs:decimal">10</dcscor:value>
			</dcscor:item>
		</appearance>
		<valueType>
			<v8:Type>xs:decimal</v8:Type>
			<v8:NumberQualifiers>
				<v8:Digits>0</v8:Digits>
				<v8:FractionDigits>0</v8:FractionDigits>
				<v8:AllowedSign>Any</v8:AllowedSign>
			</v8:NumberQualifiers>
		</valueType>
	</calculatedField>
	<calculatedField>
		<dataPath>ДоляПрибыли</dataPath>
		<expression>ВЫБОР КОГДА Сумма(ВаловаяПрибыль) = 0 ТОГДА 0
ИНАЧЕ 100* СУММА(СуммаСписания)/Сумма(ВаловаяПрибыль)
КОНЕЦ</expression>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>От прибыли, %</v8:content>
			</v8:item>
		</title>
		<useRestriction>
			<group>true</group>
		</useRestriction>
		<appearance>
			<dcscor:item xsi:type="dcsset:SettingsParameterValue">
				<dcscor:parameter>Формат</dcscor:parameter>
				<dcscor:value xsi:type="xs:string">ЧЦ=15; ЧДЦ=2</dcscor:value>
			</dcscor:item>
			<dcscor:item xsi:type="dcsset:SettingsParameterValue">
				<dcscor:parameter>МинимальнаяШирина</dcscor:parameter>
				<dcscor:value xsi:type="xs:decimal">10</dcscor:value>
			</dcscor:item>
		</appearance>
		<valueType>
			<v8:Type>xs:decimal</v8:Type>
			<v8:NumberQualifiers>
				<v8:Digits>0</v8:Digits>
				<v8:FractionDigits>0</v8:FractionDigits>
				<v8:AllowedSign>Any</v8:AllowedSign>
			</v8:NumberQualifiers>
		</valueType>
	</calculatedField>
	<calculatedField>
		<dataPath>ДоляПрибылиРасчет</dataPath>
		<expression>ВЫБОР КОГДА МАКСИМУМ(ВаловаяПрибыль) = 0 ТОГДА 0
ИНАЧЕ 100* СУММА(СуммаСписания)/МАКСИМУМ(ВаловаяПрибыль)
КОНЕЦ</expression>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Доля прибыли расчет</v8:content>
			</v8:item>
		</title>
		<useRestriction>
			<group>true</group>
		</useRestriction>
		<appearance>
			<dcscor:item xsi:type="dcsset:SettingsParameterValue">
				<dcscor:parameter>Формат</dcscor:parameter>
				<dcscor:value xsi:type="xs:string">ЧЦ=15; ЧДЦ=2</dcscor:value>
			</dcscor:item>
			<dcscor:item xsi:type="dcsset:SettingsParameterValue">
				<dcscor:parameter>МинимальнаяШирина</dcscor:parameter>
				<dcscor:value xsi:type="xs:decimal">10</dcscor:value>
			</dcscor:item>
		</appearance>
		<valueType>
			<v8:Type>xs:decimal</v8:Type>
			<v8:NumberQualifiers>
				<v8:Digits>0</v8:Digits>
				<v8:FractionDigits>0</v8:FractionDigits>
				<v8:AllowedSign>Any</v8:AllowedSign>
			</v8:NumberQualifiers>
		</valueType>
	</calculatedField>
	<calculatedField>
		<dataPath>СебестоимостьЕдиницы</dataPath>
		<expression>ВЫБОР КОГДА Сумма(Количество) = 0 ТОГДА 0
ИНАЧЕ Сумма(СебестоимостьСписания) / Сумма(Количество)
КОНЕЦ</expression>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Средн. с/с-ть единицы</v8:content>
			</v8:item>
		</title>
		<appearance>
			<dcscor:item xsi:type="dcsset:SettingsParameterValue">
				<dcscor:parameter>Формат</dcscor:parameter>
				<dcscor:value xsi:type="xs:string">ЧЦ=15; ЧДЦ=2</dcscor:value>
			</dcscor:item>
			<dcscor:item xsi:type="dcsset:SettingsParameterValue">
				<dcscor:parameter>МинимальнаяШирина</dcscor:parameter>
				<dcscor:value xsi:type="xs:decimal">10</dcscor:value>
			</dcscor:item>
		</appearance>
		<valueType>
			<v8:Type>xs:decimal</v8:Type>
			<v8:NumberQualifiers>
				<v8:Digits>0</v8:Digits>
				<v8:FractionDigits>0</v8:FractionDigits>
				<v8:AllowedSign>Any</v8:AllowedSign>
			</v8:NumberQualifiers>
		</valueType>
	</calculatedField>
	<calculatedField>
		<dataPath>Единица</dataPath>
		<expression>Номенклатура.ЕдиницаИзмерения</expression>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Единица</v8:content>
			</v8:item>
		</title>
	</calculatedField>
	<calculatedField>
		<dataPath>СуммаЕдиницы</dataPath>
		<expression>ВЫБОР КОГДА Сумма(Количество) = 0 ТОГДА 0
ИНАЧЕ Сумма(СуммаВРозничныхЦенах) / Сумма(Количество)
КОНЕЦ</expression>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Средн. розн цена</v8:content>
			</v8:item>
		</title>
		<appearance>
			<dcscor:item xsi:type="dcsset:SettingsParameterValue">
				<dcscor:parameter>Формат</dcscor:parameter>
				<dcscor:value xsi:type="xs:string">ЧЦ=15; ЧДЦ=2</dcscor:value>
			</dcscor:item>
			<dcscor:item xsi:type="dcsset:SettingsParameterValue">
				<dcscor:parameter>МинимальнаяШирина</dcscor:parameter>
				<dcscor:value xsi:type="xs:decimal">10</dcscor:value>
			</dcscor:item>
		</appearance>
		<valueType>
			<v8:Type>xs:decimal</v8:Type>
			<v8:NumberQualifiers>
				<v8:Digits>0</v8:Digits>
				<v8:FractionDigits>0</v8:FractionDigits>
				<v8:AllowedSign>Any</v8:AllowedSign>
			</v8:NumberQualifiers>
		</valueType>
	</calculatedField>
	<totalField>
		<dataPath>Количество</dataPath>
		<expression>Сумма(Количество)</expression>
	</totalField>
	<totalField>
		<dataPath>КоличествоПродаж</dataPath>
		<expression>Сумма(КоличествоПродаж)</expression>
	</totalField>
	<totalField>
		<dataPath>СебестоимостьСписания</dataPath>
		<expression>Сумма(СебестоимостьСписания)</expression>
	</totalField>
	<totalField>
		<dataPath>ДоляСписания</dataPath>
		<expression>ДоляСписания</expression>
	</totalField>
	<totalField>
		<dataPath>СуммаСписания</dataPath>
		<expression>Сумма(СуммаСписания)</expression>
	</totalField>
	<totalField>
		<dataPath>РасчетСуммыПродаж</dataPath>
		<expression>РасчетСуммыПродаж</expression>
	</totalField>
	<totalField>
		<dataPath>ДоляСписанияРасчет</dataPath>
		<expression>ДоляСписанияРасчет</expression>
	</totalField>
	<totalField>
		<dataPath>ВаловаяПрибыль</dataPath>
		<expression>Сумма(ВаловаяПрибыль)</expression>
	</totalField>
	<totalField>
		<dataPath>СуммаПродаж</dataPath>
		<expression>Сумма(СуммаПродаж)</expression>
	</totalField>
	<totalField>
		<dataPath>РасчетКоличестваПродаж</dataPath>
		<expression>РасчетКоличестваПродаж</expression>
	</totalField>
	<totalField>
		<dataPath>РасчетВаловаяПрибыль</dataPath>
		<expression>РасчетВаловаяПрибыль</expression>
	</totalField>
	<totalField>
		<dataPath>ДоляПрибылиРасчет</dataPath>
		<expression>ДоляПрибылиРасчет</expression>
	</totalField>
	<totalField>
		<dataPath>ДоляПрибыли</dataPath>
		<expression>ДоляПрибыли</expression>
	</totalField>
	<totalField>
		<dataPath>СебестоимостьЕдиницы</dataPath>
		<expression>СебестоимостьЕдиницы</expression>
	</totalField>
	<totalField>
		<dataPath>Единица</dataPath>
		<expression>Единица</expression>
		<group>Номенклатура</group>
		<group>Характеристика</group>
	</totalField>
	<totalField>
		<dataPath>СуммаЕдиницы</dataPath>
		<expression>СуммаЕдиницы</expression>
	</totalField>
	<totalField>
		<dataPath>СуммаВРозничныхЦенах</dataPath>
		<expression>Сумма(СуммаВРозничныхЦенах)</expression>
	</totalField>
	<parameter>
		<name>КонецПериода</name>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Конец периода</v8:content>
			</v8:item>
		</title>
		<valueType>
			<v8:Type>xs:dateTime</v8:Type>
			<v8:DateQualifiers>
				<v8:DateFractions>DateTime</v8:DateFractions>
			</v8:DateQualifiers>
		</valueType>
		<value xsi:type="xs:dateTime">0001-01-01T00:00:00</value>
		<useRestriction>true</useRestriction>
		<expression>&amp;Период.ДатаОкончания</expression>
	</parameter>
	<parameter>
		<name>НачалоПериода</name>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Начало периода</v8:content>
			</v8:item>
		</title>
		<valueType>
			<v8:Type>xs:dateTime</v8:Type>
			<v8:DateQualifiers>
				<v8:DateFractions>DateTime</v8:DateFractions>
			</v8:DateQualifiers>
		</valueType>
		<value xsi:type="xs:dateTime">0001-01-01T00:00:00</value>
		<useRestriction>true</useRestriction>
		<expression>&amp;Период.ДатаНачала</expression>
	</parameter>
	<parameter>
		<name>Период</name>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Период</v8:content>
			</v8:item>
		</title>
		<valueType>
			<v8:Type>v8:StandardPeriod</v8:Type>
		</valueType>
		<value xsi:type="v8:StandardPeriod">
			<v8:variant xsi:type="v8:StandardPeriodVariant">Custom</v8:variant>
			<v8:startDate>0001-01-01T00:00:00</v8:startDate>
			<v8:endDate>0001-01-01T00:00:00</v8:endDate>
		</value>
		<useRestriction>false</useRestriction>
	</parameter>
	<parameter>
		<name>ИспользоватьПрименениеЦен</name>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Использовать применение цен</v8:content>
			</v8:item>
		</title>
		<valueType>
			<v8:Type>xs:boolean</v8:Type>
		</valueType>
		<value xsi:type="xs:boolean">false</value>
		<useRestriction>true</useRestriction>
	</parameter>
	<parameter>
		<name>ИспользоватьАссортимент</name>
		<title xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Использовать ассортимент</v8:content>
			</v8:item>
		</title>
		<valueType>
			<v8:Type>xs:boolean</v8:Type>
		</valueType>
		<value xsi:type="xs:boolean">false</value>
		<useRestriction>true</useRestriction>
	</parameter>
	<settingsVariant>
		<dcsset:name>ПричиныСписанияТоварныеГруппы</dcsset:name>
		<dcsset:presentation xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Причины списания (по товарным группам)</v8:content>
			</v8:item>
		</dcsset:presentation>
		<dcsset:settings xmlns:style="http://v8.1c.ru/8.1/data/ui/style" xmlns:sys="http://v8.1c.ru/8.1/data/ui/fonts/system" xmlns:web="http://v8.1c.ru/8.1/data/ui/colors/web" xmlns:win="http://v8.1c.ru/8.1/data/ui/colors/windows">
			<dcsset:selection>
				<dcsset:item xsi:type="dcsset:SelectedItemFolder">
					<dcsset:lwsTitle>
						<v8:item>
							<v8:lang>ru</v8:lang>
							<v8:content>Списание</v8:content>
						</v8:item>
					</dcsset:lwsTitle>
					<dcsset:item xsi:type="dcsset:SelectedItemField">
						<dcsset:field>Количество</dcsset:field>
					</dcsset:item>
					<dcsset:item xsi:type="dcsset:SelectedItemField">
						<dcsset:field>СебестоимостьСписания</dcsset:field>
					</dcsset:item>
					<dcsset:item xsi:type="dcsset:SelectedItemField">
						<dcsset:field>СуммаСписания</dcsset:field>
					</dcsset:item>
					<dcsset:placement>Auto</dcsset:placement>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemFolder">
					<dcsset:lwsTitle>
						<v8:item>
							<v8:lang>ru</v8:lang>
							<v8:content>Продажи</v8:content>
						</v8:item>
					</dcsset:lwsTitle>
					<dcsset:item xsi:type="dcsset:SelectedItemField">
						<dcsset:field>КоличествоПродаж</dcsset:field>
					</dcsset:item>
					<dcsset:item xsi:type="dcsset:SelectedItemField">
						<dcsset:field>СуммаПродаж</dcsset:field>
					</dcsset:item>
					<dcsset:item xsi:type="dcsset:SelectedItemField">
						<dcsset:field>ВаловаяПрибыль</dcsset:field>
					</dcsset:item>
					<dcsset:placement>Auto</dcsset:placement>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemFolder">
					<dcsset:lwsTitle>
						<v8:item>
							<v8:lang>ru</v8:lang>
							<v8:content>Доля списания</v8:content>
						</v8:item>
					</dcsset:lwsTitle>
					<dcsset:item xsi:type="dcsset:SelectedItemField">
						<dcsset:field>ДоляСписания</dcsset:field>
					</dcsset:item>
					<dcsset:item xsi:type="dcsset:SelectedItemField">
						<dcsset:field>ДоляПрибыли</dcsset:field>
					</dcsset:item>
					<dcsset:placement>Auto</dcsset:placement>
				</dcsset:item>
			</dcsset:selection>
			<dcsset:filter>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:left xsi:type="dcscor:Field">ИдентификаторОтчета</dcsset:left>
					<dcsset:comparisonType>Equal</dcsset:comparisonType>
					<dcsset:right xsi:type="xs:string">ТоварнаяГруппа</dcsset:right>
					<dcsset:viewMode>Inaccessible</dcsset:viewMode>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:left xsi:type="dcscor:Field">ТоварнаяГруппа</dcsset:left>
					<dcsset:comparisonType>Equal</dcsset:comparisonType>
					<dcsset:userSettingID>0334def4-6b3c-4758-8f85-26969500781d</dcsset:userSettingID>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">Магазин</dcsset:left>
					<dcsset:comparisonType>Equal</dcsset:comparisonType>
					<dcsset:right xsi:type="dcscor:DesignTimeValue">Справочник.Магазины.ПустаяСсылка</dcsset:right>
					<dcsset:userSettingID>31f7dc16-c03b-494c-869c-a55e1d6a310d</dcsset:userSettingID>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">Продавец</dcsset:left>
					<dcsset:comparisonType>Equal</dcsset:comparisonType>
					<dcsset:right xsi:type="dcscor:DesignTimeValue">Справочник.ФизическиеЛица.ПустаяСсылка</dcsset:right>
					<dcsset:userSettingID>cb10a671-abcb-404e-b8f2-f90e397171c9</dcsset:userSettingID>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">Склад</dcsset:left>
					<dcsset:comparisonType>Equal</dcsset:comparisonType>
					<dcsset:right xsi:type="dcscor:DesignTimeValue">Справочник.Склады.ПустаяСсылка</dcsset:right>
					<dcsset:userSettingID>bfcb775e-91cf-4311-890a-775c3147ff3c</dcsset:userSettingID>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">Номенклатура</dcsset:left>
					<dcsset:comparisonType>Equal</dcsset:comparisonType>
					<dcsset:right xsi:type="dcscor:DesignTimeValue">Справочник.Номенклатура.ПустаяСсылка</dcsset:right>
					<dcsset:userSettingID>9668decc-0989-46dd-9e14-1ae637944c52</dcsset:userSettingID>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">Характеристика</dcsset:left>
					<dcsset:comparisonType>Equal</dcsset:comparisonType>
					<dcsset:right xsi:type="dcscor:DesignTimeValue">Справочник.ХарактеристикиНоменклатуры.ПустаяСсылка</dcsset:right>
					<dcsset:userSettingID>51b4e91c-70fa-4c4b-ac74-fe983aaa1c2f</dcsset:userSettingID>
				</dcsset:item>
			</dcsset:filter>
			<dcsset:dataParameters>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>Период</dcscor:parameter>
					<dcscor:value xsi:type="v8:StandardPeriod">
						<v8:variant xsi:type="v8:StandardPeriodVariant">ThisMonth</v8:variant>
					</dcscor:value>
					<dcsset:userSettingID>39f6a92d-8363-4ec1-83aa-5f616a12deee</dcsset:userSettingID>
				</dcscor:item>
			</dcsset:dataParameters>
			<dcsset:outputParameters>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>ВыводитьЗаголовок</dcscor:parameter>
					<dcscor:value xsi:type="dcsset:DataCompositionTextOutputType">Output</dcscor:value>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>Заголовок</dcscor:parameter>
					<dcscor:value xsi:type="v8:LocalStringType">
						<v8:item>
							<v8:lang>ru</v8:lang>
							<v8:content>Причины списания (по товарным группам)</v8:content>
						</v8:item>
					</dcscor:value>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>ВыводитьПараметрыДанных</dcscor:parameter>
					<dcscor:value xsi:type="dcsset:DataCompositionTextOutputType">Auto</dcscor:value>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>ВыводитьОтбор</dcscor:parameter>
					<dcscor:value xsi:type="dcsset:DataCompositionTextOutputType">Auto</dcscor:value>
				</dcscor:item>
			</dcsset:outputParameters>
			<dcsset:item xsi:type="dcsset:StructureItemTable">
				<dcsset:row>
					<dcsset:groupItems>
						<dcsset:item xsi:type="dcsset:GroupItemField">
							<dcsset:field>ТоварнаяГруппа</dcsset:field>
							<dcsset:groupType>Items</dcsset:groupType>
							<dcsset:periodAdditionType>None</dcsset:periodAdditionType>
							<dcsset:periodAdditionBegin xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionBegin>
							<dcsset:periodAdditionEnd xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionEnd>
						</dcsset:item>
					</dcsset:groupItems>
					<dcsset:order>
						<dcsset:item xsi:type="dcsset:OrderItemAuto"/>
					</dcsset:order>
					<dcsset:selection>
						<dcsset:item xsi:type="dcsset:SelectedItemAuto"/>
					</dcsset:selection>
					<dcsset:item>
						<dcsset:groupItems>
							<dcsset:item xsi:type="dcsset:GroupItemField">
								<dcsset:field>АналитикаХозяйственнойОперации</dcsset:field>
								<dcsset:groupType>Items</dcsset:groupType>
								<dcsset:periodAdditionType>None</dcsset:periodAdditionType>
								<dcsset:periodAdditionBegin xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionBegin>
								<dcsset:periodAdditionEnd xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionEnd>
							</dcsset:item>
						</dcsset:groupItems>
						<dcsset:order>
							<dcsset:item xsi:type="dcsset:OrderItemAuto"/>
						</dcsset:order>
						<dcsset:selection>
							<dcsset:item xsi:type="dcsset:SelectedItemAuto"/>
						</dcsset:selection>
					</dcsset:item>
				</dcsset:row>
			</dcsset:item>
		</dcsset:settings>
	</settingsVariant>
	<settingsVariant>
		<dcsset:name>ПричиныСписанияМагазины</dcsset:name>
		<dcsset:presentation xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Причины списания (по магазинам)</v8:content>
			</v8:item>
		</dcsset:presentation>
		<dcsset:settings xmlns:style="http://v8.1c.ru/8.1/data/ui/style" xmlns:sys="http://v8.1c.ru/8.1/data/ui/fonts/system" xmlns:web="http://v8.1c.ru/8.1/data/ui/colors/web" xmlns:win="http://v8.1c.ru/8.1/data/ui/colors/windows">
			<dcsset:selection>
				<dcsset:item xsi:type="dcsset:SelectedItemFolder">
					<dcsset:lwsTitle>
						<v8:item>
							<v8:lang>ru</v8:lang>
							<v8:content>Списание</v8:content>
						</v8:item>
					</dcsset:lwsTitle>
					<dcsset:item xsi:type="dcsset:SelectedItemField">
						<dcsset:field>Количество</dcsset:field>
					</dcsset:item>
					<dcsset:item xsi:type="dcsset:SelectedItemField">
						<dcsset:field>СебестоимостьСписания</dcsset:field>
					</dcsset:item>
					<dcsset:item xsi:type="dcsset:SelectedItemField">
						<dcsset:field>СуммаСписания</dcsset:field>
					</dcsset:item>
					<dcsset:placement>Auto</dcsset:placement>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemFolder">
					<dcsset:lwsTitle>
						<v8:item>
							<v8:lang>ru</v8:lang>
							<v8:content>Продажи</v8:content>
						</v8:item>
					</dcsset:lwsTitle>
					<dcsset:item xsi:type="dcsset:SelectedItemField">
						<dcsset:field>КоличествоПродаж</dcsset:field>
					</dcsset:item>
					<dcsset:item xsi:type="dcsset:SelectedItemField">
						<dcsset:field>СуммаПродаж</dcsset:field>
					</dcsset:item>
					<dcsset:item xsi:type="dcsset:SelectedItemField">
						<dcsset:field>ВаловаяПрибыль</dcsset:field>
					</dcsset:item>
					<dcsset:placement>Auto</dcsset:placement>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemFolder">
					<dcsset:lwsTitle>
						<v8:item>
							<v8:lang>ru</v8:lang>
							<v8:content>Доля списания</v8:content>
						</v8:item>
					</dcsset:lwsTitle>
					<dcsset:item xsi:type="dcsset:SelectedItemField">
						<dcsset:field>ДоляСписания</dcsset:field>
					</dcsset:item>
					<dcsset:item xsi:type="dcsset:SelectedItemField">
						<dcsset:field>ДоляПрибыли</dcsset:field>
					</dcsset:item>
					<dcsset:placement>Auto</dcsset:placement>
				</dcsset:item>
			</dcsset:selection>
			<dcsset:filter>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:left xsi:type="dcscor:Field">ИдентификаторОтчета</dcsset:left>
					<dcsset:comparisonType>Equal</dcsset:comparisonType>
					<dcsset:right xsi:type="xs:string">Магазины</dcsset:right>
					<dcsset:viewMode>Inaccessible</dcsset:viewMode>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">Организация</dcsset:left>
					<dcsset:comparisonType>Equal</dcsset:comparisonType>
					<dcsset:right xsi:type="dcscor:DesignTimeValue">Справочник.Организации.ПустаяСсылка</dcsset:right>
					<dcsset:userSettingID>a6218c94-057a-41a7-b5be-44a719255709</dcsset:userSettingID>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">Магазин</dcsset:left>
					<dcsset:comparisonType>Equal</dcsset:comparisonType>
					<dcsset:right xsi:type="dcscor:DesignTimeValue">Справочник.Магазины.ПустаяСсылка</dcsset:right>
					<dcsset:userSettingID>d80275c9-dd70-4c33-a4e1-e934716c228f</dcsset:userSettingID>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">Склад</dcsset:left>
					<dcsset:comparisonType>Equal</dcsset:comparisonType>
					<dcsset:right xsi:type="dcscor:DesignTimeValue">Справочник.Склады.ПустаяСсылка</dcsset:right>
					<dcsset:userSettingID>f8c3be2b-41df-40a2-ab70-503c87fb88a5</dcsset:userSettingID>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">Номенклатура</dcsset:left>
					<dcsset:comparisonType>Equal</dcsset:comparisonType>
					<dcsset:right xsi:type="dcscor:DesignTimeValue">Справочник.Номенклатура.ПустаяСсылка</dcsset:right>
					<dcsset:userSettingID>fc3ef952-4307-4310-b939-3e105f5a53e2</dcsset:userSettingID>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">Продавец</dcsset:left>
					<dcsset:comparisonType>Equal</dcsset:comparisonType>
					<dcsset:right xsi:type="dcscor:DesignTimeValue">Справочник.ФизическиеЛица.ПустаяСсылка</dcsset:right>
					<dcsset:userSettingID>b1575f20-db5c-48bf-a017-872116ab5394</dcsset:userSettingID>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">АналитикаХозяйственнойОперации</dcsset:left>
					<dcsset:comparisonType>Equal</dcsset:comparisonType>
					<dcsset:right xsi:type="dcscor:DesignTimeValue">Справочник.АналитикаХозяйственныхОпераций.ПустаяСсылка</dcsset:right>
					<dcsset:userSettingID>1583c06f-511e-4346-89a0-bf1836a6939a</dcsset:userSettingID>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">ДокументПродажи</dcsset:left>
					<dcsset:comparisonType>Equal</dcsset:comparisonType>
					<dcsset:userSettingID>3a070adc-d3dc-4197-b52c-6652dc077250</dcsset:userSettingID>
				</dcsset:item>
			</dcsset:filter>
			<dcsset:dataParameters>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>Период</dcscor:parameter>
					<dcscor:value xsi:type="v8:StandardPeriod">
						<v8:variant xsi:type="v8:StandardPeriodVariant">ThisMonth</v8:variant>
					</dcscor:value>
					<dcsset:userSettingID>9fa6ce79-6f4a-4c85-8dc5-f82ff12c5108</dcsset:userSettingID>
				</dcscor:item>
			</dcsset:dataParameters>
			<dcsset:outputParameters>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>ВыводитьЗаголовок</dcscor:parameter>
					<dcscor:value xsi:type="dcsset:DataCompositionTextOutputType">Output</dcscor:value>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>Заголовок</dcscor:parameter>
					<dcscor:value xsi:type="v8:LocalStringType">
						<v8:item>
							<v8:lang>ru</v8:lang>
							<v8:content>Причины списания (по магазинам)</v8:content>
						</v8:item>
					</dcscor:value>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>ВыводитьПараметрыДанных</dcscor:parameter>
					<dcscor:value xsi:type="dcsset:DataCompositionTextOutputType">Auto</dcscor:value>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>ВыводитьОтбор</dcscor:parameter>
					<dcscor:value xsi:type="dcsset:DataCompositionTextOutputType">Auto</dcscor:value>
				</dcscor:item>
			</dcsset:outputParameters>
			<dcsset:item xsi:type="dcsset:StructureItemTable">
				<dcsset:row>
					<dcsset:groupItems>
						<dcsset:item xsi:type="dcsset:GroupItemField">
							<dcsset:field>Магазин</dcsset:field>
							<dcsset:groupType>Items</dcsset:groupType>
							<dcsset:periodAdditionType>None</dcsset:periodAdditionType>
							<dcsset:periodAdditionBegin xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionBegin>
							<dcsset:periodAdditionEnd xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionEnd>
						</dcsset:item>
					</dcsset:groupItems>
					<dcsset:order>
						<dcsset:item xsi:type="dcsset:OrderItemAuto"/>
					</dcsset:order>
					<dcsset:selection>
						<dcsset:item xsi:type="dcsset:SelectedItemAuto"/>
					</dcsset:selection>
					<dcsset:item>
						<dcsset:groupItems>
							<dcsset:item xsi:type="dcsset:GroupItemField">
								<dcsset:field>АналитикаХозяйственнойОперации</dcsset:field>
								<dcsset:groupType>Items</dcsset:groupType>
								<dcsset:periodAdditionType>None</dcsset:periodAdditionType>
								<dcsset:periodAdditionBegin xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionBegin>
								<dcsset:periodAdditionEnd xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionEnd>
							</dcsset:item>
						</dcsset:groupItems>
						<dcsset:order>
							<dcsset:item xsi:type="dcsset:OrderItemAuto"/>
						</dcsset:order>
						<dcsset:selection>
							<dcsset:item xsi:type="dcsset:SelectedItemAuto"/>
						</dcsset:selection>
					</dcsset:item>
				</dcsset:row>
			</dcsset:item>
		</dcsset:settings>
	</settingsVariant>
	<settingsVariant>
		<dcsset:name>ПричиныСписанияДетальный</dcsset:name>
		<dcsset:presentation xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Причины списания (детально)</v8:content>
			</v8:item>
		</dcsset:presentation>
		<dcsset:settings xmlns:style="http://v8.1c.ru/8.1/data/ui/style" xmlns:sys="http://v8.1c.ru/8.1/data/ui/fonts/system" xmlns:web="http://v8.1c.ru/8.1/data/ui/colors/web" xmlns:win="http://v8.1c.ru/8.1/data/ui/colors/windows">
			<dcsset:selection>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>СебестоимостьЕдиницы</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>СуммаЕдиницы</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>Количество</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>Единица</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>СебестоимостьСписания</dcsset:field>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>СуммаВРозничныхЦенах</dcsset:field>
				</dcsset:item>
			</dcsset:selection>
			<dcsset:filter>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:left xsi:type="dcscor:Field">ИдентификаторОтчета</dcsset:left>
					<dcsset:comparisonType>Equal</dcsset:comparisonType>
					<dcsset:right xsi:type="xs:string">Детально</dcsset:right>
					<dcsset:viewMode>Inaccessible</dcsset:viewMode>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:left xsi:type="dcscor:Field">АналитикаХозяйственнойОперации</dcsset:left>
					<dcsset:comparisonType>Equal</dcsset:comparisonType>
					<dcsset:right xsi:type="dcscor:DesignTimeValue">Справочник.АналитикаХозяйственныхОпераций.ПустаяСсылка</dcsset:right>
					<dcsset:userSettingID>dacf624e-31ac-4a84-8c7d-a8128636be86</dcsset:userSettingID>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">ТоварнаяГруппа</dcsset:left>
					<dcsset:comparisonType>Equal</dcsset:comparisonType>
					<dcsset:userSettingID>0b7b12cb-6ea4-4a10-98ed-16988b30402e</dcsset:userSettingID>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">Магазин</dcsset:left>
					<dcsset:comparisonType>Equal</dcsset:comparisonType>
					<dcsset:right xsi:type="dcscor:DesignTimeValue">Справочник.Магазины.ПустаяСсылка</dcsset:right>
					<dcsset:userSettingID>368f78a5-eee9-451a-9949-a87023d2fec2</dcsset:userSettingID>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">Номенклатура</dcsset:left>
					<dcsset:comparisonType>Equal</dcsset:comparisonType>
					<dcsset:right xsi:type="dcscor:DesignTimeValue">Справочник.Номенклатура.ПустаяСсылка</dcsset:right>
					<dcsset:userSettingID>f8a3e35b-7427-4d49-b9ff-ea4f8bc9af9c</dcsset:userSettingID>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">Характеристика</dcsset:left>
					<dcsset:comparisonType>Equal</dcsset:comparisonType>
					<dcsset:right xsi:type="dcscor:DesignTimeValue">Справочник.ХарактеристикиНоменклатуры.ПустаяСсылка</dcsset:right>
					<dcsset:userSettingID>afc23ea7-2c5f-4633-835d-b7833becfbf4</dcsset:userSettingID>
				</dcsset:item>
			</dcsset:filter>
			<dcsset:dataParameters>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>Период</dcscor:parameter>
					<dcscor:value xsi:type="v8:StandardPeriod">
						<v8:variant xsi:type="v8:StandardPeriodVariant">ThisMonth</v8:variant>
					</dcscor:value>
					<dcsset:userSettingID>cd3cb93a-8d1e-4c93-8587-d472bafe1e19</dcsset:userSettingID>
				</dcscor:item>
			</dcsset:dataParameters>
			<dcsset:outputParameters>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>ВыводитьЗаголовок</dcscor:parameter>
					<dcscor:value xsi:type="dcsset:DataCompositionTextOutputType">Output</dcscor:value>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>Заголовок</dcscor:parameter>
					<dcscor:value xsi:type="v8:LocalStringType">
						<v8:item>
							<v8:lang>ru</v8:lang>
							<v8:content>Причины списания (детально)</v8:content>
						</v8:item>
					</dcscor:value>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>ВыводитьПараметрыДанных</dcscor:parameter>
					<dcscor:value xsi:type="dcsset:DataCompositionTextOutputType">Auto</dcscor:value>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>ВыводитьОтбор</dcscor:parameter>
					<dcscor:value xsi:type="dcsset:DataCompositionTextOutputType">Auto</dcscor:value>
				</dcscor:item>
			</dcsset:outputParameters>
			<dcsset:item xsi:type="dcsset:StructureItemGroup">
				<dcsset:groupItems>
					<dcsset:item xsi:type="dcsset:GroupItemField">
						<dcsset:field>Магазин</dcsset:field>
						<dcsset:groupType>Items</dcsset:groupType>
						<dcsset:periodAdditionType>None</dcsset:periodAdditionType>
						<dcsset:periodAdditionBegin xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionBegin>
						<dcsset:periodAdditionEnd xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionEnd>
					</dcsset:item>
				</dcsset:groupItems>
				<dcsset:order>
					<dcsset:item xsi:type="dcsset:OrderItemAuto"/>
				</dcsset:order>
				<dcsset:selection>
					<dcsset:item xsi:type="dcsset:SelectedItemAuto"/>
				</dcsset:selection>
				<dcsset:item xsi:type="dcsset:StructureItemGroup">
					<dcsset:groupItems>
						<dcsset:item xsi:type="dcsset:GroupItemField">
							<dcsset:field>АналитикаХозяйственнойОперации</dcsset:field>
							<dcsset:groupType>Items</dcsset:groupType>
							<dcsset:periodAdditionType>None</dcsset:periodAdditionType>
							<dcsset:periodAdditionBegin xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionBegin>
							<dcsset:periodAdditionEnd xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionEnd>
						</dcsset:item>
					</dcsset:groupItems>
					<dcsset:order>
						<dcsset:item xsi:type="dcsset:OrderItemAuto"/>
					</dcsset:order>
					<dcsset:selection>
						<dcsset:item xsi:type="dcsset:SelectedItemAuto"/>
					</dcsset:selection>
					<dcsset:item xsi:type="dcsset:StructureItemGroup">
						<dcsset:groupItems>
							<dcsset:item xsi:type="dcsset:GroupItemField">
								<dcsset:field>Номенклатура</dcsset:field>
								<dcsset:groupType>Items</dcsset:groupType>
								<dcsset:periodAdditionType>None</dcsset:periodAdditionType>
								<dcsset:periodAdditionBegin xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionBegin>
								<dcsset:periodAdditionEnd xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionEnd>
							</dcsset:item>
							<dcsset:item xsi:type="dcsset:GroupItemField">
								<dcsset:field>Характеристика</dcsset:field>
								<dcsset:groupType>Items</dcsset:groupType>
								<dcsset:periodAdditionType>None</dcsset:periodAdditionType>
								<dcsset:periodAdditionBegin xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionBegin>
								<dcsset:periodAdditionEnd xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionEnd>
							</dcsset:item>
						</dcsset:groupItems>
						<dcsset:order>
							<dcsset:item xsi:type="dcsset:OrderItemAuto"/>
						</dcsset:order>
						<dcsset:selection>
							<dcsset:item xsi:type="dcsset:SelectedItemAuto"/>
						</dcsset:selection>
					</dcsset:item>
				</dcsset:item>
			</dcsset:item>
		</dcsset:settings>
	</settingsVariant>
	<settingsVariant>
		<dcsset:name>ПричиныСписанияТоварныеКатегории</dcsset:name>
		<dcsset:presentation xsi:type="v8:LocalStringType">
			<v8:item>
				<v8:lang>ru</v8:lang>
				<v8:content>Причины списания (по товарным категориям)</v8:content>
			</v8:item>
		</dcsset:presentation>
		<dcsset:settings xmlns:style="http://v8.1c.ru/8.1/data/ui/style" xmlns:sys="http://v8.1c.ru/8.1/data/ui/fonts/system" xmlns:web="http://v8.1c.ru/8.1/data/ui/colors/web" xmlns:win="http://v8.1c.ru/8.1/data/ui/colors/windows">
			<dcsset:selection>
				<dcsset:item xsi:type="dcsset:SelectedItemField">
					<dcsset:field>Марка</dcsset:field>
					<dcsset:lwsTitle>
						<v8:item>
							<v8:lang>ru</v8:lang>
							<v8:content>Марка (бренд)</v8:content>
						</v8:item>
					</dcsset:lwsTitle>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemFolder">
					<dcsset:lwsTitle>
						<v8:item>
							<v8:lang>ru</v8:lang>
							<v8:content>Списание</v8:content>
						</v8:item>
					</dcsset:lwsTitle>
					<dcsset:item xsi:type="dcsset:SelectedItemField">
						<dcsset:field>Количество</dcsset:field>
					</dcsset:item>
					<dcsset:item xsi:type="dcsset:SelectedItemField">
						<dcsset:field>СебестоимостьСписания</dcsset:field>
					</dcsset:item>
					<dcsset:item xsi:type="dcsset:SelectedItemField">
						<dcsset:field>СуммаСписания</dcsset:field>
					</dcsset:item>
					<dcsset:placement>Auto</dcsset:placement>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemFolder">
					<dcsset:lwsTitle>
						<v8:item>
							<v8:lang>ru</v8:lang>
							<v8:content>Продажи</v8:content>
						</v8:item>
					</dcsset:lwsTitle>
					<dcsset:item xsi:type="dcsset:SelectedItemField">
						<dcsset:field>КоличествоПродаж</dcsset:field>
					</dcsset:item>
					<dcsset:item xsi:type="dcsset:SelectedItemField">
						<dcsset:field>СуммаПродаж</dcsset:field>
					</dcsset:item>
					<dcsset:item xsi:type="dcsset:SelectedItemField">
						<dcsset:field>ВаловаяПрибыль</dcsset:field>
					</dcsset:item>
					<dcsset:placement>Auto</dcsset:placement>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:SelectedItemFolder">
					<dcsset:lwsTitle>
						<v8:item>
							<v8:lang>ru</v8:lang>
							<v8:content>Доля списания</v8:content>
						</v8:item>
					</dcsset:lwsTitle>
					<dcsset:item xsi:type="dcsset:SelectedItemField">
						<dcsset:field>ДоляСписания</dcsset:field>
					</dcsset:item>
					<dcsset:item xsi:type="dcsset:SelectedItemField">
						<dcsset:field>ДоляПрибыли</dcsset:field>
					</dcsset:item>
					<dcsset:placement>Auto</dcsset:placement>
				</dcsset:item>
			</dcsset:selection>
			<dcsset:filter>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:left xsi:type="dcscor:Field">ИдентификаторОтчета</dcsset:left>
					<dcsset:comparisonType>Equal</dcsset:comparisonType>
					<dcsset:right xsi:type="xs:string">ТоварнаяКатегория</dcsset:right>
					<dcsset:viewMode>Inaccessible</dcsset:viewMode>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">ТоварнаяКатегория</dcsset:left>
					<dcsset:comparisonType>Equal</dcsset:comparisonType>
					<dcsset:right xsi:type="dcscor:DesignTimeValue">Справочник.ТоварныеКатегории.ПустаяСсылка</dcsset:right>
					<dcsset:userSettingID>b0c9cc66-9a75-4cdd-8eef-0308b1fbc77b</dcsset:userSettingID>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">Магазин</dcsset:left>
					<dcsset:comparisonType>Equal</dcsset:comparisonType>
					<dcsset:right xsi:type="dcscor:DesignTimeValue">Справочник.Магазины.ПустаяСсылка</dcsset:right>
					<dcsset:userSettingID>31f7dc16-c03b-494c-869c-a55e1d6a310d</dcsset:userSettingID>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">Продавец</dcsset:left>
					<dcsset:comparisonType>Equal</dcsset:comparisonType>
					<dcsset:right xsi:type="dcscor:DesignTimeValue">Справочник.ФизическиеЛица.ПустаяСсылка</dcsset:right>
					<dcsset:userSettingID>cb10a671-abcb-404e-b8f2-f90e397171c9</dcsset:userSettingID>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">Склад</dcsset:left>
					<dcsset:comparisonType>Equal</dcsset:comparisonType>
					<dcsset:right xsi:type="dcscor:DesignTimeValue">Справочник.Склады.ПустаяСсылка</dcsset:right>
					<dcsset:userSettingID>bfcb775e-91cf-4311-890a-775c3147ff3c</dcsset:userSettingID>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">Номенклатура</dcsset:left>
					<dcsset:comparisonType>Equal</dcsset:comparisonType>
					<dcsset:right xsi:type="dcscor:DesignTimeValue">Справочник.Номенклатура.ПустаяСсылка</dcsset:right>
					<dcsset:userSettingID>9668decc-0989-46dd-9e14-1ae637944c52</dcsset:userSettingID>
				</dcsset:item>
				<dcsset:item xsi:type="dcsset:FilterItemComparison">
					<dcsset:use>false</dcsset:use>
					<dcsset:left xsi:type="dcscor:Field">Характеристика</dcsset:left>
					<dcsset:comparisonType>Equal</dcsset:comparisonType>
					<dcsset:right xsi:type="dcscor:DesignTimeValue">Справочник.ХарактеристикиНоменклатуры.ПустаяСсылка</dcsset:right>
					<dcsset:userSettingID>51b4e91c-70fa-4c4b-ac74-fe983aaa1c2f</dcsset:userSettingID>
				</dcsset:item>
			</dcsset:filter>
			<dcsset:dataParameters>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>Период</dcscor:parameter>
					<dcscor:value xsi:type="v8:StandardPeriod">
						<v8:variant xsi:type="v8:StandardPeriodVariant">ThisMonth</v8:variant>
					</dcscor:value>
					<dcsset:userSettingID>39f6a92d-8363-4ec1-83aa-5f616a12deee</dcsset:userSettingID>
				</dcscor:item>
			</dcsset:dataParameters>
			<dcsset:outputParameters>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>ВыводитьЗаголовок</dcscor:parameter>
					<dcscor:value xsi:type="dcsset:DataCompositionTextOutputType">Output</dcscor:value>
				</dcscor:item>
				<dcscor:item xsi:type="dcsset:SettingsParameterValue">
					<dcscor:parameter>Заголовок</dcscor:parameter>
					<dcscor:value xsi:type="v8:LocalStringType">
						<v8:item>
							<v8:lang>ru</v8:lang>
							<v8:content>Причины списания (по товарным категориям)</v8:content>
						</v8:item>
					</dcscor:value>
				</dcscor:item>
			</dcsset:outputParameters>
			<dcsset:item xsi:type="dcsset:StructureItemTable">
				<dcsset:row>
					<dcsset:groupItems>
						<dcsset:item xsi:type="dcsset:GroupItemField">
							<dcsset:field>ТоварнаяКатегория</dcsset:field>
							<dcsset:groupType>Hierarchy</dcsset:groupType>
							<dcsset:periodAdditionType>None</dcsset:periodAdditionType>
							<dcsset:periodAdditionBegin xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionBegin>
							<dcsset:periodAdditionEnd xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionEnd>
						</dcsset:item>
					</dcsset:groupItems>
					<dcsset:order>
						<dcsset:item xsi:type="dcsset:OrderItemAuto"/>
					</dcsset:order>
					<dcsset:selection>
						<dcsset:item xsi:type="dcsset:SelectedItemAuto"/>
					</dcsset:selection>
					<dcsset:item>
						<dcsset:groupItems>
							<dcsset:item xsi:type="dcsset:GroupItemField">
								<dcsset:field>Марка</dcsset:field>
								<dcsset:groupType>Items</dcsset:groupType>
								<dcsset:periodAdditionType>None</dcsset:periodAdditionType>
								<dcsset:periodAdditionBegin xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionBegin>
								<dcsset:periodAdditionEnd xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionEnd>
							</dcsset:item>
						</dcsset:groupItems>
						<dcsset:order>
							<dcsset:item xsi:type="dcsset:OrderItemAuto"/>
						</dcsset:order>
						<dcsset:selection>
							<dcsset:item xsi:type="dcsset:SelectedItemAuto"/>
						</dcsset:selection>
						<dcsset:item>
							<dcsset:groupItems>
								<dcsset:item xsi:type="dcsset:GroupItemField">
									<dcsset:field>АналитикаХозяйственнойОперации</dcsset:field>
									<dcsset:groupType>Items</dcsset:groupType>
									<dcsset:periodAdditionType>None</dcsset:periodAdditionType>
									<dcsset:periodAdditionBegin xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionBegin>
									<dcsset:periodAdditionEnd xsi:type="xs:dateTime">0001-01-01T00:00:00</dcsset:periodAdditionEnd>
								</dcsset:item>
							</dcsset:groupItems>
							<dcsset:order>
								<dcsset:item xsi:type="dcsset:OrderItemAuto"/>
							</dcsset:order>
							<dcsset:selection>
								<dcsset:item xsi:type="dcsset:SelectedItemAuto"/>
							</dcsset:selection>
						</dcsset:item>
					</dcsset:item>
				</dcsset:row>
			</dcsset:item>
		</dcsset:settings>
	</settingsVariant>
</DataCompositionSchema>